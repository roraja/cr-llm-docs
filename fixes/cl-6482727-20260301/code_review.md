# Detailed Code Review

**Generated by**: mock copilot (mock mode)
**Model**: claude-sonnet-4
**Timestamp**: 2026-02-28 15:51:54

---

## Summary

This is a mock Detailed Code Review document generated in mock mode.
The mock copilot received a 2700-character prompt and wrote
this output to `/data/out/11-review-for-cl-review-4/out/code_review.md`.

## Key Findings

- The CL modifies test files in the base/ directory
- No critical issues were identified (mock analysis)
- Code follows Chromium coding conventions

## Recommendation

**APPROVED** — No issues found (mock review).


---

## Prompt Sent to Copilot

<details>
<summary>Full prompt (2700 characters)</summary>

```markdown
# Detailed Code Review

## Overview
You are performing a thorough code review of a Chromium CL. Review the diff for correctness, style, and best practices.

## CL Information
- **CL Number**: 6482727
- **CL Title**: CL 6482727: [EditContext] Update attribute types in TextFormat to follow spec
- **Author**: Ashish Kumar

## Review Guidelines

Follow the Chromium Code Review guidelines:
- https://chromium.googlesource.com/chromium/src/+/main/docs/code_reviews.md

## Diff to Review

{{diff_content}}

## Context Files

The following context files are available on disk for the full, untruncated content:
- `/data/data/cl_reviews/6482727-EditContext-Update-attribute-types-in-TextFormat-to-follow-spec/cl_details.md` — Full CL metadata, commit message, and changed files list
- `/data/data/cl_reviews/6482727-EditContext-Update-attribute-types-in-TextFormat-to-follow-spec/diff.txt` — Complete unified diff (the inline diff above may be truncated)
- `/data/data/cl_reviews/6482727-EditContext-Update-attribute-types-in-TextFormat-to-follow-spec/cl_metadata.json` — Raw Gerrit API response

## Instructions

Review the code for:

### 1. Correctness
- Logic errors
- Off-by-one errors
- Null pointer dereferences
- Resource leaks
- Race conditions
- Integer overflow/underflow

### 2. Style & Conventions
- Follows Chromium coding style
- Proper naming conventions
- Consistent formatting
- Appropriate comments

### 3. Security
- Input validation
- Buffer overflow risks
- Injection vulnerabilities
- Privilege escalation risks

### 4. Performance
- Unnecessary copies
- Inefficient algorithms
- Memory allocations in hot paths
- Blocking operations

### 5. Testing
- Are the changes adequately tested?
- Missing test cases
- Edge cases not covered

### 6. Documentation
- Are new APIs documented?
- Are complex algorithms explained?
- Are non-obvious decisions documented?

## Required Output

Create a code review document with:

### Review Summary
| Category | Status | Notes |
|----------|--------|-------|
| Correctness | ✅/⚠️/❌ | |
| Style | ✅/⚠️/❌ | |
| Security | ✅/⚠️/❌ | |
| Performance | ✅/⚠️/❌ | |
| Testing | ✅/⚠️/❌ | |

### Detailed Findings

For each issue found:
```
#### Issue #N: [Title]
**Severity**: Critical/Major/Minor/Suggestion
**File**: filename.cc
**Line**: 123
**Description**: Detailed description of the issue
**Suggestion**: How to fix it
```

### Positive Observations
- Things done well
- Good practices followed

### Overall Assessment
- LGTM (Looks Good To Me)
- LGTM with minor comments
- Needs changes before approval

Save this document to: `/data/data/cl_reviews/6482727-EditContext-Update-attribute-types-in-TextFormat-to-follow-spec/llm_out/out/code_review.md`
```

</details>

## Context Files (5 files from `/data/contexts/ctx-d3d9a050bd5e5ca2`)

### `changed_files.json` (2174 bytes)

```json
{
  "third_party/blink/renderer/platform/runtime_enabled_features.json5": {
    "old_mode": 33188,
    "new_mode": 33188,
    "old_sha": "2ebbfce77fc5a185e883287f6ae639a799bd7cdb",
    "new_sha": "076e8e573e084afda6ebfe54f8fae7f54537b174",
    "lines_deleted": 5,
    "size_delta": -139,
    "size": 196920
  },
  "/COMMIT_MSG": {
    "status": "A",
    "old_sha": "da39a3ee5e6b4b0d3255bfef95601890afd80709",
    "new_sha": "2485e7539b2c97a21e718525bf51d56d1559a0ee",
    "lines_inserted": 25,
    "size_delta": 1219,
    "size": 1219
  },
  "third_party/blink/renderer/core/editing/ime/text_format.h": {
    "old_mode": 33188,
    "new_mode": 33188,
    "old_sha": "309d664989886aac8d7b280d87cde8fd971c61a4",
    "new_sha": "18f32314f7afa9c1234cc93ed0226f7c660df915",
    "lines_inserted": 13,
    "lines_deleted": 15,
    "size_delta": 89,
    "size": 2013
  },
  "third_party/blink/renderer/core/editing/ime/text_format.idl": {
    "old_mode": 33188,
    "new_mode": 33188,
    "old_sha": "8324a3d1776bac3cfbe049b719c7a1d51ac1bfc5",
    "new_sha": "57c29850a227e02aeffecec06c0bdc9952601cf1",
    "lines_inserted": 3,
    "lines_deleted": 9,
    "size_delta": -443,
    "size": 733
  },
  "third_party/blink/renderer/core/editing/ime/text_format.cc": {
    "old_mode": 33188,
    "new_mode": 33188,
    "old_sha": "d400f636c6ed1b1e93f4fb757209b2144ea8db03",
    "new_sha": "965b54eaa586823804afd809ebe409178f9760bd",
    "lines_inserted": 14,
    "lines_deleted": 55,
    "size_delta": -1729,
    "size": 2140
  },
  "third_party/blink/renderer/core/editing/ime/edit_context.cc": {
    "old_mode": 33188,
    "new_mode": 33188,
    "old_sha": "9797dece713f072664f7f81da38609a7e845b729",
    "new_sha": "36449c881579e49238a8331b3f0283d650659046",
    "lines_inserted": 15,
    "lines_deleted": 21,
    "size_delta": -349,
    "size": 38583
  },
  "third_party/blink/renderer/core/editing/ime/text_format_init.idl": {
    "old_mode": 33188,
    "new_mode": 33188,
    "old_sha": "260539d41dc5280da9442c39291a96b2784c7e32",
    "new_sha": "68a16c4abb77136137acfe49ef0103c33cde1508",
    "lines_inserted": 2,
    "lines_deleted": 2,
    "size_delta": 14,
    "size": 431
  }
}
```

### `cl_details.md` (28828 bytes)

```markdown
# CL 6482727: [EditContext] Update attribute types in TextFormat to follow spec

**CL URL:** https://chromium-review.googlesource.com/c/chromium/src/+/6482727

## Metadata

- **Status:** MERGED
- **Owner:** Ashish Kumar <ashishkum@microsoft.com>
- **Project:** chromium/src
- **Branch:** main
- **Created:** 2025-04-23 08:54:30 UTC
- **Updated:** 2026-02-16 05:08:38 UTC

### Labels
- **Code-Review:** ✅ Approved by Dan Clark <daniec@microsoft.com>
- **Commit-Queue:** ✅ Approved by Ashish Kumar <ashishkum@microsoft.com>

## Commit Message

```
[EditContext] Update attribute types in TextFormat to follow spec

This CL updates the underlineStyle and underlineThickness attribute
types in TextFormat from DOMString to their respective enum types to
follow the spec [1].

This CL does not introduce any behavior change and the changes are
already tested in tests [2] and [3].

[1] https://w3c.github.io/edit-context/#textformatupdateevent
[2] https://crsrc.org/c/third_party/blink/web_tests/editing/input/edit-context.html
[3] https://crsrc.org/c/third_party/blink/web_tests/external/wpt/editing/edit-context/edit-context-textformat.tentative.html

Fixed: 354497121
Change-Id: Ia179f4590a5b06a38fdb81393b21d211f9b709e2
Reviewed-on: https://chromium-review.googlesource.com/c/chromium/src/+/6482727
Reviewed-by: Dan Clark <daniec@microsoft.com>
Commit-Queue: Ashish Kumar <ashishkum@microsoft.com>
Cr-Commit-Position: refs/heads/main@{#1585267}
```

## Changed Files

- **Modified:** `third_party/blink/renderer/core/editing/ime/edit_context.cc` (+15/-21)
- **Modified:** `third_party/blink/renderer/core/editing/ime/text_format.cc` (+14/-55)
- **Modified:** `third_party/blink/renderer/core/editing/ime/text_format.h` (+13/-15)
- **Modified:** `third_party/blink/renderer/core/editing/ime/text_format.idl` (+3/-9)
- **Modified:** `third_party/blink/renderer/core/editing/ime/text_format_init.idl` (+2/-2)
- **Modified:** `third_party/blink/renderer/platform/runtime_enabled_features.json5` (+0/-5)

**Total:** 6 files, +47/-107 lines

## Review Messages

### Ashish Kumar <ashishkum@microsoft.com> (2025-04-23 08:54:30 UTC)

Hashtag added: editcontext

### Ashish Kumar <ashishkum@microsoft.com> (2025-04-23 08:55:48 UTC)

Patch Set 1: Commit-Queue+1

### Chromium LUCI CQ <chromium-scoped@luci-project-accounts.iam.gserviceaccount.com> (2025-04-23 08:55:54 UTC)

Patch Set 1:

Dry run: CV is trying the patch.

Follow status at: https://luci-change-verifier.appspot.com/ui/run/chromium/8877572248854-1-5c7643ef5769eacc

Bot data: {"action":"start","triggered_at":"2025-04-23T08:55:48Z","revision":"ad054d89d30649e3045dbd4446affa06675f5aff"}

### Robert Williams <rw6531830@gmail.com> (2025-04-23 08:59:54 UTC)

Patch Set 1:

(1 comment)

### Rohan Raja <roraja@microsoft.com> (2025-04-23 09:32:35 UTC)

Patch Set 1:

(5 comments)

### Ashish Kumar <ashishkum@microsoft.com> (2025-04-23 09:56:07 UTC)

Patch Set 1: -Commit-Queue

### Chromium LUCI CQ <chromium-scoped@luci-project-accounts.iam.gserviceaccount.com> (2025-04-23 09:56:08 UTC)

Patch Set 1:

This CL has failed the run. Reason:

Tryjob [chromium/try/linux-rel](https://cr-buildbucket.appspot.com/build/8716810681352444625) has failed with summary ([view all results](https://chromium-review.googlesource.com/c/6482727?checksPatchset=1&tab=checks)):

---
1 Test Suite(s) failed.

**blink_web_tests** failed because of:

- editing/input/edit-context.html

### Ashish Kumar <ashishkum@microsoft.com> (2025-04-23 13:56:44 UTC)

Uploaded patch set 2.

fix test

### Ashish Kumar <ashishkum@microsoft.com> (2025-04-23 14:11:54 UTC)

Patch Set 2:

(5 comments)

### Ashish Kumar <ashishkum@microsoft.com> (2025-04-23 14:13:44 UTC)

Patch Set 2: Commit-Queue+1

### Chromium LUCI CQ <chromium-scoped@luci-project-accounts.iam.gserviceaccount.com> (2025-04-23 14:13:50 UTC)

Patch Set 2:

Dry run: CV is trying the patch.

Follow status at: https://luci-change-verifier.appspot.com/ui/run/chromium/8877553172854-1-43003864ee9b4fd2

Bot data: {"action":"start","triggered_at":"2025-04-23T14:13:44Z","revision":"1550252f1ba79a093786f6550c4183b252c2ee78"}

### Ashish Kumar <ashishkum@microsoft.com> (2025-04-23 14:51:20 UTC)

Patch Set 2: -Commit-Queue

### Chromium LUCI CQ <chromium-scoped@luci-project-accounts.iam.gserviceaccount.com> (2025-04-23 14:51:22 UTC)

Patch Set 2:

This CL has failed the run. Reason:

Tryjob [chromium/try/linux-libfuzzer-asan-rel](https://cr-buildbucket.appspot.com/build/8716789360371794945) has failed with summary ([view all results](https://chromium-review.googlesource.com/c/6482727?checksPatchset=2&tab=checks)):

---
#### Step _compile_ failed. Error logs are shown below:
```
Failing build because ninja reported work to do.
This means that after completing a compile, another was run and
it resulted in still having work to do (that is, a no-op build
wasn't a no-op). Consult the first "ninja explain:" line for a
likely culprit.
```
#### [Click here for more information](https://logs.chromium.org/logs/chromium/buildbucket/cr-buildbucket/8716789360371794945/+/u/compile_confirm_no-op/stderr)

### Ashish Kumar <ashishkum@microsoft.com> (2025-04-24 13:54:05 UTC)

<GERRIT_ACCOUNT_1326190>, who was added as reviewer owns the following files:
* `third_party/blink/renderer/core/editing/ime/edit_context.cc`
* `third_party/blink/renderer/core/editing/ime/text_format.cc`
* `third_party/blink/renderer/core/editing/ime/text_format.h`
* `third_party/blink/renderer/core/editing/ime/text_format.idl`
* `third_party/blink/renderer/core/editing/ime/text_format_init.idl`
* `third_party/blink/web_tests/editing/input/edit-context.html`

### Dan Clark <daniec@microsoft.com> (2025-04-25 00:29:15 UTC)

Patch Set 2:

(1 comment)

### Ashish Kumar <ashishkum@microsoft.com> (2025-08-26 06:42:15 UTC)

Uploaded patch set 3.

update enums

### Ashish Kumar <ashishkum@microsoft.com> (2025-08-26 06:42:48 UTC)

Patch Set 3: Commit-Queue+1

### Chromium LUCI CQ <chromium-scoped@luci-project-accounts.iam.gserviceaccount.com> (2025-08-26 06:42:54 UTC)

Patch Set 3:

Dry run: CV is trying the patch.

Follow status at: https://luci-change-verifier.appspot.com/ui/run/chromium/8866780228854-1-d8f7eba28722e241

Bot data: {"action":"start","triggered_at":"2025-08-26T06:42:48Z","revision":"65ac0346aa8ade6c4cf8952c705805725db325e7"}

### Ashish Kumar <ashishkum@microsoft.com> (2025-08-26 07:38:10 UTC)

Patch Set 3: -Commit-Queue

### Chromium LUCI CQ <chromium-scoped@luci-project-accounts.iam.gserviceaccount.com> (2025-08-26 07:38:15 UTC)

Patch Set 3:

This CL has failed the run. Reason:

Tryjob [chromium/try/linux-rel](https://cr-buildbucket.appspot.com/build/8705494427641590417) has failed with summary ([view all results](https://chromium-review.googlesource.com/c/6482727?checksPatchset=3&tab=checks)):

---
1 Test Suite(s) failed.

**blink_web_tests** failed because of:

- editing/input/edit-context.html

### Ashish Kumar <ashishkum@microsoft.com> (2025-09-03 09:23:44 UTC)

Set Work In Progress

### Ashish Kumar <ashishkum@microsoft.com> (2026-02-12 10:58:51 UTC)

Uploaded patch set 4.

update attribute types

### Ashish Kumar <ashishkum@microsoft.com> (2026-02-12 11:04:14 UTC)

Patch Set 5: Commit message was updated.

### Ashish Kumar <ashishkum@microsoft.com> (2026-02-12 11:04:32 UTC)

Patch Set 5: Commit-Queue+1

### Chromium LUCI CQ <chromium-scoped@luci-project-accounts.iam.gserviceaccount.com> (2026-02-12 11:04:37 UTC)

Patch Set 5:

Dry run: CV is trying the patch.

Follow status at: https://luci-change-verifier.appspot.com/ui/run/chromium/8852076524854-1-03ba7a177abd5f12

Bot data: {"action":"start","triggered_at":"2026-02-12T11:04:32Z","revision":"21456e7457d041cc24b24fe59b30b1c2a205e748"}

### Ashish Kumar <ashishkum@microsoft.com> (2026-02-12 11:05:41 UTC)

Patch Set 6: Commit message was updated.

Copied Votes:
* Commit-Queue+1 (copy condition: "changekind:NO_CHANGE OR **changekind:NO_CODE_CHANGE** OR changekind:TRIVIAL_REBASE")

### Chromium LUCI CQ <chromium-scoped@luci-project-accounts.iam.gserviceaccount.com> (2026-02-12 11:05:59 UTC)

Patch Set 6:

Dry run: CV is trying the patch.

Follow status at: https://luci-change-verifier.appspot.com/ui/run/chromium/8852076455854-1-7d033d40e1e89211

Bot data: {"action":"start","triggered_at":"2026-02-12T11:05:41Z","revision":"3af978fabaaff97058b0d85425d967859290db6e"}

### Ashish Kumar <ashishkum@microsoft.com> (2026-02-12 12:37:27 UTC)

Patch Set 6: -Commit-Queue

(Performed by chromium-scoped@luci-project-accounts.iam.gserviceaccount.com on behalf of ashishkum@microsoft.com)

### Chromium LUCI CQ <chromium-scoped@luci-project-accounts.iam.gserviceaccount.com> (2026-02-12 12:37:29 UTC)

Patch Set 6:

This CL has passed the run

### Ashish Kumar <ashishkum@microsoft.com> (2026-02-13 04:37:45 UTC)

Patch Set 6:

(1 comment)

This change is ready for review.

### Dan Clark <daniec@microsoft.com> (2026-02-13 19:49:35 UTC)

Patch Set 6: Code-Review+1

(1 comment)

### Ashish Kumar <ashishkum@microsoft.com> (2026-02-16 04:10:13 UTC)

Patch Set 6: Commit-Queue+2

### Chromium LUCI CQ <chromium-scoped@luci-project-accounts.iam.gserviceaccount.com> (2026-02-16 04:10:23 UTC)

Patch Set 6:

CV is trying the patch.

Follow status at: https://luci-change-verifier.appspot.com/ui/run/chromium/8851755783854-1-603914455365b16f

Bot data: {"action":"start","triggered_at":"2026-02-16T04:10:13Z","revision":"3af978fabaaff97058b0d85425d967859290db6e"}

### Chromium LUCI CQ <chromium-scoped@luci-project-accounts.iam.gserviceaccount.com> (2026-02-16 05:08:38 UTC)

Change has been successfully rebased and submitted as 08838aa5b7dcc21876ff7135593b3570758ce6cf

## Inline Comments

### `/PATCHSET_LEVEL`

**Line ?** - Robert Williams <rw6531830@gmail.com>:
> Sabrina

**Line ?** - Dan Clark <daniec@microsoft.com>:
> Thanks for working on this.

An obstacle to fixing this is that it is a web-facing change, potentially breaking for sites that rely on the existing, incorrect names. So we will need to go through the [Intent process](https://www.chromium.org/blink/launching-features/#launch-process) first, sending an Intent to Ship to get approval.

The API Owners are going to ask about the risk of breaking existing sites. One way that we can start to account for that risk is by adding use counters. If the usage is very low, we may be able to move forward with the change directly. If the usage is high, we'll have to come up with a plan for how to transition sites in an opt-in way to the new names.

Use counters that would be helpful in assessing the risk are:
- A counter that fires when a site registers a `textformatupdate` event listener
- A counter that fires when a site has registered for a `textformatupdate` and we actually fire a `textformatupdate` event
- A counter that fires when a site has registered for a `textformatupdate` and we actually fire a `textformatupdate` event, and the event includes values for Thickness and/or underlinestyle that are something other than "none".

Do you think you could add those use counters to set the groundwork for this change?

**Line ?** - Dan Clark <daniec@microsoft.com>:
> Love to see it. Thanks Ashish for making this happen.

### `third_party/blink/renderer/core/editing/ime/edit_context.cc`

**Line 149** - Rohan Raja <roraja@microsoft.com>:
> If the blink:: prefix required given we are already in the blink namespace

**Line 149** - Ashish Kumar <ashishkum@microsoft.com>:
> you are right, removed it.

### `third_party/blink/renderer/core/editing/ime/text_format.cc`

**Line 54** - Rohan Raja <roraja@microsoft.com>:
> Can the enum conversion be a utility method ? Maybe there is already a utility file which has similar conversions. Same for below

**Line 54** - Ashish Kumar <ashishkum@microsoft.com>:
> Sure, moved this logic to utility methods.

### `third_party/blink/renderer/core/editing/ime/text_format.h`

**Line 19** - Rohan Raja <roraja@microsoft.com>:
> Can you please double check if we need to provide int values for the enums, i.e. kNone=0, etc

**Line 19** - Ashish Kumar <ashishkum@microsoft.com>:
> The compiler will automatically assign the values. We do not need to specify a default value unless we want to have some specific values

**Line 20** - Rohan Raja <roraja@microsoft.com>:
> It seems like we are duplicating code of these enum definitions from v8's definition. Aren't these auto generated from IDL or can we simply use V8 version of these enums whereever required ?

**Line 20** - Ashish Kumar <ashishkum@microsoft.com>:
> Even I had this doubt, but I could not find any guideline for such scenario, So I am using the approach that is currently followed in chromium i.e. keep the v8 and c++ types separate. Found below examples:
1. For [DocumentReadyState](https://source.chromium.org/chromium/chromium/src/+/main:third_party/blink/renderer/core/dom/document.idl;drc=8e818398ba69cd572ced83e298973e2213f83bda;l=22) the V8 type is only used for return type and to maintain the state different enum is created in [document.h](https://source.chromium.org/chromium/chromium/src/+/main:third_party/blink/renderer/core/dom/document.h;drc=8e818398ba69cd572ced83e298973e2213f83bda;l=1044)
2. Similar for [OrientationType](https://source.chromium.org/chromium/chromium/src/+/main:third_party/blink/renderer/modules/screen_orientation/screen_orientation.idl;drc=a2c296652bc9681e2cdd695426d664decaffd3be;l=18), the V8 type is only used for return type in [screen_orientation.h](https://source.chromium.org/chromium/chromium/src/+/main:third_party/blink/renderer/modules/screen_orientation/screen_orientation.h;drc=a2c296652bc9681e2cdd695426d664decaffd3be;l=42)

**Line 20** - Ashish Kumar <ashishkum@microsoft.com>:
> Updated to use V8 enums.

### `third_party/blink/renderer/core/editing/ime/text_format.idl`

**Line 21** - Rohan Raja <roraja@microsoft.com>:
> Please see if these changes can be auto-tested

**Line 21** - Ashish Kumar <ashishkum@microsoft.com>:
> These are tested in `edit_context.html` web test.

## Full Diff

```diff
From 08838aa5b7dcc21876ff7135593b3570758ce6cf Mon Sep 17 00:00:00 2001
From: Ashish Kumar <ashishkum@microsoft.com>
Date: Sun, 15 Feb 2026 21:08:38 -0800
Subject: [PATCH] [EditContext] Update attribute types in TextFormat to follow spec

This CL updates the underlineStyle and underlineThickness attribute
types in TextFormat from DOMString to their respective enum types to
follow the spec [1].

This CL does not introduce any behavior change and the changes are
already tested in tests [2] and [3].

[1] https://w3c.github.io/edit-context/#textformatupdateevent
[2] https://crsrc.org/c/third_party/blink/web_tests/editing/input/edit-context.html
[3] https://crsrc.org/c/third_party/blink/web_tests/external/wpt/editing/edit-context/edit-context-textformat.tentative.html

Fixed: 354497121
Change-Id: Ia179f4590a5b06a38fdb81393b21d211f9b709e2
Reviewed-on: https://chromium-review.googlesource.com/c/chromium/src/+/6482727
Reviewed-by: Dan Clark <daniec@microsoft.com>
Commit-Queue: Ashish Kumar <ashishkum@microsoft.com>
Cr-Commit-Position: refs/heads/main@{#1585267}
---

diff --git a/third_party/blink/renderer/core/editing/ime/edit_context.cc b/third_party/blink/renderer/core/editing/ime/edit_context.cc
index 9797dec..36449c88 100644
--- a/third_party/blink/renderer/core/editing/ime/edit_context.cc
+++ b/third_party/blink/renderer/core/editing/ime/edit_context.cc
@@ -12,6 +12,8 @@
 #include "third_party/blink/public/web/web_local_frame_client.h"
 #include "third_party/blink/public/web/web_range.h"
 #include "third_party/blink/renderer/bindings/core/v8/v8_edit_context_init.h"
+#include "third_party/blink/renderer/bindings/core/v8/v8_underline_style.h"
+#include "third_party/blink/renderer/bindings/core/v8/v8_underline_thickness.h"
 #include "third_party/blink/renderer/core/css/css_color.h"
 #include "third_party/blink/renderer/core/dom/document.h"
 #include "third_party/blink/renderer/core/editing/ime/character_bounds_update_event.h"
@@ -146,48 +148,40 @@
     const auto range_end = base::checked_cast<wtf_size_t>(
         ime_text_span.end_offset + composition_range_start_);
 
-    String underline_thickness;
-    String underline_style;
-    // Use values defined in spec [1] for `TextFormat::underlineStyle` &
-    // `TextFormat::underlineThickness`
-    // TODO(crbug.com/354497121): Remove this change and update the TextFormat
-    // attribute type as per the spec [1] when the feature is enabled by
-    // default.
-    // [1]: https://w3c.github.io/edit-context/#textformatupdateevent
-    bool use_spec_values = RuntimeEnabledFeatures::
-        UseSpecValuesInTextFormatUpdateEventStylesEnabled();
+    V8UnderlineThickness::Enum underline_thickness;
+    V8UnderlineStyle::Enum underline_style;
+
     switch (ime_text_span.thickness) {
       case ui::ImeTextSpan::Thickness::kNone:
-        underline_thickness = use_spec_values ? "none" : "None";
+        underline_thickness = V8UnderlineThickness::Enum::kNone;
         break;
       case ui::ImeTextSpan::Thickness::kThin:
-        underline_thickness = use_spec_values ? "thin" : "Thin";
+        underline_thickness = V8UnderlineThickness::Enum::kThin;
         break;
       case ui::ImeTextSpan::Thickness::kThick:
-        underline_thickness = use_spec_values ? "thick" : "Thick";
+        underline_thickness = V8UnderlineThickness::Enum::kThick;
         break;
     }
     switch (ime_text_span.underline_style) {
       case ui::ImeTextSpan::UnderlineStyle::kNone:
-        underline_style = use_spec_values ? "none" : "None";
+        underline_style = V8UnderlineStyle::Enum::kNone;
         break;
       case ui::ImeTextSpan::UnderlineStyle::kSolid:
-        underline_style = use_spec_values ? "solid" : "Solid";
+        underline_style = V8UnderlineStyle::Enum::kSolid;
         break;
       case ui::ImeTextSpan::UnderlineStyle::kDot:
-        underline_style = use_spec_values ? "dotted" : "Dotted";
+        underline_style = V8UnderlineStyle::Enum::kDotted;
         break;
       case ui::ImeTextSpan::UnderlineStyle::kDash:
-        underline_style = use_spec_values ? "dashed" : "Dashed";
+        underline_style = V8UnderlineStyle::Enum::kDashed;
         break;
       case ui::ImeTextSpan::UnderlineStyle::kSquiggle:
-        underline_style = use_spec_values ? "wavy" : "Squiggle";
+        underline_style = V8UnderlineStyle::Enum::kWavy;
         break;
     }
 
-    text_formats.push_back(
-        TextFormat::Create(range_start, range_end, underline_style,
-                           underline_thickness, ASSERT_NO_EXCEPTION));
+    text_formats.push_back(TextFormat::Create(
+        range_start, range_end, underline_style, underline_thickness));
   }
 
   TextFormatUpdateEvent* event = MakeGarbageCollected<TextFormatUpdateEvent>(
diff --git a/third_party/blink/renderer/core/editing/ime/text_format.cc b/third_party/blink/renderer/core/editing/ime/text_format.cc
index d400f63..965b54ea 100644
--- a/third_party/blink/renderer/core/editing/ime/text_format.cc
+++ b/third_party/blink/renderer/core/editing/ime/text_format.cc
@@ -7,17 +7,13 @@
 #include "third_party/blink/renderer/bindings/core/v8/v8_text_format_init.h"
 #include "third_party/blink/renderer/bindings/core/v8/v8_underline_style.h"
 #include "third_party/blink/renderer/bindings/core/v8/v8_underline_thickness.h"
-#include "third_party/blink/renderer/platform/bindings/exception_state.h"
-#include "third_party/blink/renderer/platform/runtime_enabled_features.h"
-#include "third_party/blink/renderer/platform/wtf/text/string_builder.h"
 
 namespace blink {
 
 TextFormat::TextFormat(wtf_size_t range_start,
                        wtf_size_t range_end,
-                       const String& underline_style,
-                       const String& underline_thickness,
-                       ExceptionState& exception_state)
+                       V8UnderlineStyle::Enum underline_style,
+                       V8UnderlineThickness::Enum underline_thickness)
     : range_start_(range_start),
       range_end_(range_end),
       underline_style_(underline_style),
@@ -25,67 +21,30 @@
 
 TextFormat* TextFormat::Create(wtf_size_t range_start,
                                wtf_size_t range_end,
-                               const String& underline_style,
-                               const String& underline_thickness,
-                               ExceptionState& exception_state) {
+                               V8UnderlineStyle::Enum underline_style,
+                               V8UnderlineThickness::Enum underline_thickness) {
   return MakeGarbageCollected<TextFormat>(range_start, range_end,
-                                          underline_style, underline_thickness,
-                                          exception_state);
+                                          underline_style, underline_thickness);
 }
 
-TextFormat::TextFormat(const TextFormatInit* dict,
-                       ExceptionState& exception_state) {
+TextFormat::TextFormat(const TextFormatInit* dict) {
   if (dict->hasRangeStart())
     range_start_ = dict->rangeStart();
 
   if (dict->hasRangeEnd())
     range_end_ = dict->rangeEnd();
 
-  const bool use_spec_values = RuntimeEnabledFeatures::
-      UseSpecValuesInTextFormatUpdateEventStylesEnabled();
-
   if (dict->hasUnderlineStyle()) {
-    String style = dict->underlineStyle();
-    if (use_spec_values && !V8UnderlineStyle::Create(style)) {
-      // Value was invalid, throw error.
-      StringBuilder error_message;
-      error_message.Append(
-          "Failed to read the 'underlineStyle' property from 'TextFormatInit': "
-          "The provided value '");
-      error_message.Append(style);
-      error_message.Append(
-          "' is not a valid enum value of type UnderlineStyle.");
-      exception_state.ThrowTypeError(error_message.ToString());
-      return;
-    }
-    underline_style_ = style;
-  } else if (use_spec_values) {
-    underline_style_ = "none";
+    underline_style_ = dict->underlineStyle().AsEnum();
   }
 
   if (dict->hasUnderlineThickness()) {
-    String thickness = dict->underlineThickness();
-    if (use_spec_values && !V8UnderlineThickness::Create(thickness)) {
-      // Value was invalid, throw error.
-      StringBuilder error_message;
-      error_message.Append(
-          "Failed to read the 'underlineThickness' property from "
-          "'TextFormatInit': The provided value '");
-      error_message.Append(thickness);
-      error_message.Append(
-          "' is not a valid enum value of type UnderlineThickness.");
-      exception_state.ThrowTypeError(error_message.ToString());
-      return;
-    }
-    underline_thickness_ = thickness;
-  } else if (use_spec_values) {
-    underline_thickness_ = "none";
+    underline_thickness_ = dict->underlineThickness().AsEnum();
   }
 }
 
-TextFormat* TextFormat::Create(const TextFormatInit* dict,
-                               ExceptionState& exception_state) {
-  return MakeGarbageCollected<TextFormat>(dict, exception_state);
+TextFormat* TextFormat::Create(const TextFormatInit* dict) {
+  return MakeGarbageCollected<TextFormat>(dict);
 }
 
 wtf_size_t TextFormat::rangeStart() const {
@@ -96,12 +55,12 @@
   return range_end_;
 }
 
-String TextFormat::underlineStyle() const {
-  return underline_style_;
+V8UnderlineStyle TextFormat::underlineStyle() const {
+  return V8UnderlineStyle(underline_style_);
 }
 
-String TextFormat::underlineThickness() const {
-  return underline_thickness_;
+V8UnderlineThickness TextFormat::underlineThickness() const {
+  return V8UnderlineThickness(underline_thickness_);
 }
 
 }  // namespace blink
diff --git a/third_party/blink/renderer/core/editing/ime/text_format.h b/third_party/blink/renderer/core/editing/ime/text_format.h
index 309d664..18f32314 100644
--- a/third_party/blink/renderer/core/editing/ime/text_format.h
+++ b/third_party/blink/renderer/core/editing/ime/text_format.h
@@ -5,6 +5,8 @@
 #ifndef THIRD_PARTY_BLINK_RENDERER_CORE_EDITING_IME_TEXT_FORMAT_H_
 #define THIRD_PARTY_BLINK_RENDERER_CORE_EDITING_IME_TEXT_FORMAT_H_
 
+#include "third_party/blink/renderer/bindings/core/v8/v8_underline_style.h"
+#include "third_party/blink/renderer/bindings/core/v8/v8_underline_thickness.h"
 #include "third_party/blink/renderer/core/core_export.h"
 #include "third_party/blink/renderer/platform/bindings/script_wrappable.h"
 #include "third_party/blink/renderer/platform/wtf/text/wtf_string.h"
@@ -13,7 +15,6 @@
 
 class TextFormatInit;
 class TextFormat;
-class ExceptionState;
 
 // The TextFormat describes how the texts in an active composition should be
 // styled.
@@ -23,31 +24,28 @@
   DEFINE_WRAPPERTYPEINFO();
 
  public:
-  static TextFormat* Create(const TextFormatInit* dict,
-                            ExceptionState& exception_state);
+  static TextFormat* Create(const TextFormatInit* dict);
   static TextFormat* Create(wtf_size_t range_start,
                             wtf_size_t range_end,
-                            const String& underline_style,
-                            const String& underline_thickness,
-                            ExceptionState& exception_state);
-  explicit TextFormat(const TextFormatInit* dict,
-                      ExceptionState& exception_state);
+                            V8UnderlineStyle::Enum underline_style,
+                            V8UnderlineThickness::Enum underline_thickness);
+  explicit TextFormat(const TextFormatInit* dict);
   TextFormat(wtf_size_t range_start,
              wtf_size_t range_end,
-             const String& underline_style,
-             const String& underline_thickness,
-             ExceptionState& exception_state);
+             V8UnderlineStyle::Enum underline_style,
+             V8UnderlineThickness::Enum underline_thickness);
 
   wtf_size_t rangeStart() const;
   wtf_size_t rangeEnd() const;
-  String underlineStyle() const;
-  String underlineThickness() const;
+  V8UnderlineStyle underlineStyle() const;
+  V8UnderlineThickness underlineThickness() const;
 
  private:
   wtf_size_t range_start_ = 0;
   wtf_size_t range_end_ = 0;
-  String underline_style_;
-  String underline_thickness_;
+  V8UnderlineStyle::Enum underline_style_ = V8UnderlineStyle::Enum::kNone;
+  V8UnderlineThickness::Enum underline_thickness_ =
+      V8UnderlineThickness::Enum::kNone;
 };
 
 }  // namespace blink
diff --git a/third_party/blink/renderer/core/editing/ime/text_format.idl b/third_party/blink/renderer/core/editing/ime/text_format.idl
index 8324a3d..57c29850 100644
--- a/third_party/blink/renderer/core/editing/ime/text_format.idl
+++ b/third_party/blink/renderer/core/editing/ime/text_format.idl
@@ -13,17 +13,11 @@
 [
   Exposed=Window
 ] interface TextFormat {
-    // TODO(crbug.com/354497121): Remove "RaisesException" when the `underlineStyle`
-    // and `underlineThickness` attributes are converted to enums as per the spec [1].
-    // [1]: https://w3c.github.io/edit-context/#textformatupdateevent
-    [RaisesException] constructor(optional TextFormatInit options = {});
+    constructor(optional TextFormatInit options = {});
 
     readonly attribute unsigned long rangeStart;
     readonly attribute unsigned long rangeEnd;
 
-    // https://crbug.com/354497121 These should be UnderlineStyle and
-    // UnderlineThickness enumerations but the values returned by the
-    // implementation do not match what the IDL defines.
-    readonly attribute DOMString underlineStyle;
-    readonly attribute DOMString underlineThickness;
+    readonly attribute UnderlineStyle underlineStyle;
+    readonly attribute UnderlineThickness underlineThickness;
 };
diff --git a/third_party/blink/renderer/core/editing/ime/text_format_init.idl b/third_party/blink/renderer/core/editing/ime/text_format_init.idl
index 260539d..68a16c4a 100644
--- a/third_party/blink/renderer/core/editing/ime/text_format_init.idl
+++ b/third_party/blink/renderer/core/editing/ime/text_format_init.idl
@@ -10,6 +10,6 @@
 dictionary TextFormatInit {
     unsigned long rangeStart;
     unsigned long rangeEnd;
-    DOMString underlineStyle;
-    DOMString underlineThickness;
+    UnderlineStyle underlineStyle;
+    UnderlineThickness underlineThickness;
 };
diff --git a/third_party/blink/renderer/platform/runtime_enabled_features.json5 b/third_party/blink/renderer/platform/runtime_enabled_features.json5
index 2ebbfce..076e8e5 100644
--- a/third_party/blink/renderer/platform/runtime_enabled_features.json5
+++ b/third_party/blink/renderer/platform/runtime_enabled_features.json5
@@ -5781,11 +5781,6 @@
       status: "stable",
     },
     {
-      // Fix for https://crbug.com/354497121
-      name: "UseSpecValuesInTextFormatUpdateEventStyles",
-      status: "stable"
-    },
-    {
       name: "UseUndoStepElementDispatchBeforeInput",
       status: "stable",
     },

```
```

### `cl_metadata.json` (126513 bytes — truncated to 50KB)

```json
{
  "id": "chromium%2Fsrc~6482727",
  "triplet_id": "chromium%2Fsrc~main~Ia179f4590a5b06a38fdb81393b21d211f9b709e2",
  "project": "chromium/src",
  "branch": "main",
  "full_branch": "refs/heads/main",
  "attention_set": {},
  "removed_from_attention_set": {
    "3411476": {
      "account": {
        "_account_id": 3411476,
        "name": "Ashish Kumar",
        "email": "ashishkum@microsoft.com",
        "avatars": [
          {
            "url": "https://lh4.googleusercontent.com/-5sVthv59RGk/AAAAAAAAAAI/AAAAAAAAAAA/saC-xk27-pU/s32-p/photo.jpg",
            "height": 32
          },
          {
            "url": "https://lh4.googleusercontent.com/-5sVthv59RGk/AAAAAAAAAAI/AAAAAAAAAAA/saC-xk27-pU/s56-p/photo.jpg",
            "height": 56
          },
          {
            "url": "https://lh4.googleusercontent.com/-5sVthv59RGk/AAAAAAAAAAI/AAAAAAAAAAA/saC-xk27-pU/s100-p/photo.jpg",
            "height": 100
          },
          {
            "url": "https://lh4.googleusercontent.com/-5sVthv59RGk/AAAAAAAAAAI/AAAAAAAAAAA/saC-xk27-pU/s120-p/photo.jpg",
            "height": 120
          }
        ]
      },
      "last_update": "2026-02-16 04:10:13.000000000",
      "reason": "removed on reply"
    },
    "1326190": {
      "account": {
        "_account_id": 1326190,
        "name": "Dan Clark",
        "display_name": "Dan Clark",
        "email": "daniec@microsoft.com",
        "avatars": [
          {
            "url": "https://lh6.googleusercontent.com/-Myhc5O9yY-I/AAAAAAAAAAI/AAAAAAAAAAA/_205-ZRyQbU/s32-p/photo.jpg",
            "height": 32
          },
          {
            "url": "https://lh6.googleusercontent.com/-Myhc5O9yY-I/AAAAAAAAAAI/AAAAAAAAAAA/_205-ZRyQbU/s56-p/photo.jpg",
            "height": 56
          },
          {
            "url": "https://lh6.googleusercontent.com/-Myhc5O9yY-I/AAAAAAAAAAI/AAAAAAAAAAA/_205-ZRyQbU/s100-p/photo.jpg",
            "height": 100
          },
          {
            "url": "https://lh6.googleusercontent.com/-Myhc5O9yY-I/AAAAAAAAAAI/AAAAAAAAAAA/_205-ZRyQbU/s120-p/photo.jpg",
            "height": 120
          }
        ]
      },
      "last_update": "2025-04-25 00:29:15.000000000",
      "reason": "<GERRIT_ACCOUNT_1326190> replied on the change",
      "reason_account": {
        "_account_id": 1326190,
        "name": "Dan Clark",
        "display_name": "Dan Clark",
        "email": "daniec@microsoft.com",
        "avatars": [
          {
            "url": "https://lh6.googleusercontent.com/-Myhc5O9yY-I/AAAAAAAAAAI/AAAAAAAAAAA/_205-ZRyQbU/s32-p/photo.jpg",
            "height": 32
          },
          {
            "url": "https://lh6.googleusercontent.com/-Myhc5O9yY-I/AAAAAAAAAAI/AAAAAAAAAAA/_205-ZRyQbU/s56-p/photo.jpg",
            "height": 56
          },
          {
            "url": "https://lh6.googleusercontent.com/-Myhc5O9yY-I/AAAAAAAAAAI/AAAAAAAAAAA/_205-ZRyQbU/s100-p/photo.jpg",
            "height": 100
          },
          {
            "url": "https://lh6.googleusercontent.com/-Myhc5O9yY-I/AAAAAAAAAAI/AAAAAAAAAAA/_205-ZRyQbU/s120-p/photo.jpg",
            "height": 120
          }
        ]
      }
    },
    "3431131": {
      "account": {
        "_account_id": 3431131,
        "name": "Rohan Raja",
        "email": "roraja@microsoft.com",
        "avatars": [
          {
            "url": "https://lh4.googleusercontent.com/-Y-CNpzZsaM8/AAAAAAAAAAI/AAAAAAAAAAA/ui7DMVM-3H8/s32-p/photo.jpg",
            "height": 32
          },
          {
            "url": "https://lh4.googleusercontent.com/-Y-CNpzZsaM8/AAAAAAAAAAI/AAAAAAAAAAA/ui7DMVM-3H8/s56-p/photo.jpg",
            "height": 56
          },
          {
            "url": "https://lh4.googleusercontent.com/-Y-CNpzZsaM8/AAAAAAAAAAI/AAAAAAAAAAA/ui7DMVM-3H8/s100-p/photo.jpg",
            "height": 100
          },
          {
            "url": "https://lh4.googleusercontent.com/-Y-CNpzZsaM8/AAAAAAAAAAI/AAAAAAAAAAA/ui7DMVM-3H8/s120-p/photo.jpg",
            "height": 120
          }
        ]
      },
      "last_update": "2026-02-16 05:08:38.000000000",
      "reason": "Change was submitted"
    }
  },
  "hashtags": [
    "editcontext"
  ],
  "change_id": "Ia179f4590a5b06a38fdb81393b21d211f9b709e2",
  "subject": "[EditContext] Update attribute types in TextFormat to follow spec",
  "status": "MERGED",
  "created": "2025-04-23 08:54:30.000000000",
  "updated": "2026-02-16 05:08:38.000000000",
  "submitted": "2026-02-16 05:08:38.000000000",
  "submitter": {
    "_account_id": 1347153,
    "name": "Chromium LUCI CQ",
    "email": "chromium-scoped@luci-project-accounts.iam.gserviceaccount.com",
    "avatars": [
      {
        "url": "https://storage.googleapis.com/chrome-infra/lucy-small.png",
        "height": 32
      },
      {
        "url": "https://storage.googleapis.com/chrome-infra/lucy-small.png",
        "height": 56
      },
      {
        "url": "https://storage.googleapis.com/chrome-infra/lucy-small.png",
        "height": 100
      },
      {
        "url": "https://storage.googleapis.com/chrome-infra/lucy-small.png",
        "height": 120
      }
    ],
    "tags": [
      "SERVICE_USER"
    ]
  },
  "insertions": 47,
  "deletions": 107,
  "total_comment_count": 14,
  "unresolved_comment_count": 0,
  "has_review_started": true,
  "submission_id": "6482727",
  "meta_rev_id": "824d794aa8746243e40c1d7521f0258542dfd293",
  "_number": 6482727,
  "virtual_id_number": 6482727,
  "owner": {
    "_account_id": 3411476,
    "name": "Ashish Kumar",
    "email": "ashishkum@microsoft.com",
    "avatars": [
      {
        "url": "https://lh4.googleusercontent.com/-5sVthv59RGk/AAAAAAAAAAI/AAAAAAAAAAA/saC-xk27-pU/s32-p/photo.jpg",
        "height": 32
      },
      {
        "url": "https://lh4.googleusercontent.com/-5sVthv59RGk/AAAAAAAAAAI/AAAAAAAAAAA/saC-xk27-pU/s56-p/photo.jpg",
        "height": 56
      },
      {
        "url": "https://lh4.googleusercontent.com/-5sVthv59RGk/AAAAAAAAAAI/AAAAAAAAAAA/saC-xk27-pU/s100-p/photo.jpg",
        "height": 100
      },
      {
        "url": "https://lh4.googleusercontent.com/-5sVthv59RGk/AAAAAAAAAAI/AAAAAAAAAAA/saC-xk27-pU/s120-p/photo.jpg",
        "height": 120
      }
    ]
  },
  "labels": {
    "BCID-Exit-Gate-Verified": {
      "all": [
        {
          "value": 0,
          "_account_id": 3411476,
          "name": "Ashish Kumar",
          "email": "ashishkum@microsoft.com",
          "avatars": [
            {
              "url": "https://lh4.googleusercontent.com/-5sVthv59RGk/AAAAAAAAAAI/AAAAAAAAAAA/saC-xk27-pU/s32-p/photo.jpg",
              "height": 32
            },
            {
              "url": "https://lh4.googleusercontent.com/-5sVthv59RGk/AAAAAAAAAAI/AAAAAAAAAAA/saC-xk27-pU/s56-p/photo.jpg",
              "height": 56
            },
            {
              "url": "https://lh4.googleusercontent.com/-5sVthv59RGk/AAAAAAAAAAI/AAAAAAAAAAA/saC-xk27-pU/s100-p/photo.jpg",
              "height": 100
            },
            {
              "url": "https://lh4.googleusercontent.com/-5sVthv59RGk/AAAAAAAAAAI/AAAAAAAAAAA/saC-xk27-pU/s120-p/photo.jpg",
              "height": 120
            }
          ]
        },
        {
          "value": 0,
          "_account_id": 1347153,
          "name": "Chromium LUCI CQ",
          "email": "chromium-scoped@luci-project-accounts.iam.gserviceaccount.com",
          "avatars": [
            {
              "url": "https://storage.googleapis.com/chrome-infra/lucy-small.png",
              "height": 32
            },
            {
              "url": "https://storage.googleapis.com/chrome-infra/lucy-small.png",
              "height": 56
            },
            {
              "url": "https://storage.googleapis.com/chrome-infra/lucy-small.png",
              "height": 100
            },
            {
              "url": "https://storage.googleapis.com/chrome-infra/lucy-small.png",
              "height": 120
            }
          ],
          "tags": [
            "SERVICE_USER"
          ]
        },
        {
          "value": 0,
          "_account_id": 1326190,
          "name": "Dan Clark",
          "display_name": "Dan Clark",
          "email": "daniec@microsoft.com",
          "avatars": [
            {
              "url": "https://lh6.googleusercontent.com/-Myhc5O9yY-I/AAAAAAAAAAI/AAAAAAAAAAA/_205-ZRyQbU/s32-p/photo.jpg",
              "height": 32
            },
            {
              "url": "https://lh6.googleusercontent.com/-Myhc5O9yY-I/AAAAAAAAAAI/AAAAAAAAAAA/_205-ZRyQbU/s56-p/photo.jpg",
              "height": 56
            },
            {
              "url": "https://lh6.googleusercontent.com/-Myhc5O9yY-I/AAAAAAAAAAI/AAAAAAAAAAA/_205-ZRyQbU/s100-p/photo.jpg",
              "height": 100
            },
            {
              "url": "https://lh6.googleusercontent.com/-Myhc5O9yY-I/AAAAAAAAAAI/AAAAAAAAAAA/_205-ZRyQbU/s120-p/photo.jpg",
              "height": 120
            }
          ]
        }
      ],
      "values": {
        "-1": "Fails",
        " 0": "No score",
        "+1": "Verified"
      },
      "default_value": 0,
      "optional": true
    },
    "Auto-Submit": {
      "all": [
        {
          "value": 0,
          "_account_id": 3411476,
          "name": "Ashish Kumar",
          "email": "ashishkum@microsoft.com",
          "avatars": [
            {
              "url": "https://lh4.googleusercontent.com/-5sVthv59RGk/AAAAAAAAAAI/AAAAAAAAAAA/saC-xk27-pU/s32-p/photo.jpg",
              "height": 32
            },
            {
              "url": "https://lh4.googleusercontent.com/-5sVthv59RGk/AAAAAAAAAAI/AAAAAAAAAAA/saC-xk27-pU/s56-p/photo.jpg",
              "height": 56
            },
            {
              "url": "https://lh4.googleusercontent.com/-5sVthv59RGk/AAAAAAAAAAI/AAAAAAAAAAA/saC-xk27-pU/s100-p/photo.jpg",
              "height": 100
            },
            {
              "url": "https://lh4.googleusercontent.com/-5sVthv59RGk/AAAAAAAAAAI/AAAAAAAAAAA/saC-xk27-pU/s120-p/photo.jpg",
              "height": 120
            }
          ]
        },
        {
          "value": 0,
          "_account_id": 1347153,
          "name": "Chromium LUCI CQ",
          "email": "chromium-scoped@luci-project-accounts.iam.gserviceaccount.com",
          "avatars": [
            {
              "url": "https://storage.googleapis.com/chrome-infra/lucy-small.png",
              "height": 32
            },
            {
              "url": "https://storage.googleapis.com/chrome-infra/lucy-small.png",
              "height": 56
            },
            {
              "url": "https://storage.googleapis.com/chrome-infra/lucy-small.png",
              "height": 100
            },
            {
              "url": "https://storage.googleapis.com/chrome-infra/lucy-small.png",
              "height": 120
            }
          ],
          "tags": [
            "SERVICE_USER"
          ]
        },
        {
          "value": 0,
          "_account_id": 1326190,
          "name": "Dan Clark",
          "display_name": "Dan Clark",
          "email": "daniec@microsoft.com",
          "avatars": [
            {
              "url": "https://lh6.googleusercontent.com/-Myhc5O9yY-I/AAAAAAAAAAI/AAAAAAAAAAA/_205-ZRyQbU/s32-p/photo.jpg",
              "height": 32
            },
            {
              "url": "https://lh6.googleusercontent.com/-Myhc5O9yY-I/AAAAAAAAAAI/AAAAAAAAAAA/_205-ZRyQbU/s56-p/photo.jpg",
              "height": 56
            },
            {
              "url": "https://lh6.googleusercontent.com/-Myhc5O9yY-I/AAAAAAAAAAI/AAAAAAAAAAA/_205-ZRyQbU/s100-p/photo.jpg",
              "height": 100
            },
            {
              "url": "https://lh6.googleusercontent.com/-Myhc5O9yY-I/AAAAAAAAAAI/AAAAAAAAAAA/_205-ZRyQbU/s120-p/photo.jpg",
              "height": 120
            }
          ]
        }
      ],
      "values": {
        " 0": "Do not send CL to CQ automatically after approval",
        "+1": "Send CL to CQ automatically after approval"
      },
      "description": "",
      "default_value": 0,
      "optional": true
    },
    "Code-Coverage": {
      "all": [
        {
          "value": 0,
          "_account_id": 3411476,
          "name": "Ashish Kumar",
          "email": "ashishkum@microsoft.com",
          "avatars": [
            {
              "url": "https://lh4.googleusercontent.com/-5sVthv59RGk/AAAAAAAAAAI/AAAAAAAAAAA/saC-xk27-pU/s32-p/photo.jpg",
              "height": 32
            },
            {
              "url": "https://lh4.googleusercontent.com/-5sVthv59RGk/AAAAAAAAAAI/AAAAAAAAAAA/saC-xk27-pU/s56-p/photo.jpg",
              "height": 56
            },
            {
              "url": "https://lh4.googleusercontent.com/-5sVthv59RGk/AAAAAAAAAAI/AAAAAAAAAAA/saC-xk27-pU/s100-p/photo.jpg",
              "height": 100
            },
            {
              "url": "https://lh4.googleusercontent.com/-5sVthv59RGk/AAAAAAAAAAI/AAAAAAAAAAA/saC-xk27-pU/s120-p/photo.jpg",
              "height": 120
            }
          ]
        },
        {
          "value": 0,
          "_account_id": 1347153,
          "name": "Chromium LUCI CQ",
          "email": "chromium-scoped@luci-project-accounts.iam.gserviceaccount.com",
          "avatars": [
            {
              "url": "https://storage.googleapis.com/chrome-infra/lucy-small.png",
              "height": 32
            },
            {
              "url": "https://storage.googleapis.com/chrome-infra/lucy-small.png",
              "height": 56
            },
            {
              "url": "https://storage.googleapis.com/chrome-infra/lucy-small.png",
              "height": 100
            },
            {
              "url": "https://storage.googleapis.com/chrome-infra/lucy-small.png",
              "height": 120
            }
          ],
          "tags": [
            "SERVICE_USER"
          ]
        },
        {
          "value": 0,
          "_account_id": 1326190,
          "name": "Dan Clark",
          "display_name": "Dan Clark",
          "email": "daniec@microsoft.com",
          "avatars": [
            {
              "url": "https://lh6.googleusercontent.com/-Myhc5O9yY-I/AAAAAAAAAAI/AAAAAAAAAAA/_205-ZRyQbU/s32-p/photo.jpg",
              "height": 32
            },
            {
              "url": "https://lh6.googleusercontent.com/-Myhc5O9yY-I/AAAAAAAAAAI/AAAAAAAAAAA/_205-ZRyQbU/s56-p/photo.jpg",
              "height": 56
            },
            {
              "url": "https://lh6.googleusercontent.com/-Myhc5O9yY-I/AAAAAAAAAAI/AAAAAAAAAAA/_205-ZRyQbU/s100-p/photo.jpg",
              "height": 100
            },
            {
              "url": "https://lh6.googleusercontent.com/-Myhc5O9yY-I/AAAAAAAAAAI/AAAAAAAAAAA/_205-ZRyQbU/s120-p/photo.jpg",
              "height": 120
            }
          ]
        }
      ],
      "values": {
        "-1": "Fails",
        " 0": "No score",
        "+1": "Ok"
      },
      "description": "",
      "default_value": 0,
      "optional": true
    },
    "Code-Review": {
      "approved": {
        "_account_id": 1326190,
        "name": "Dan Clark",
        "display_name": "Dan Clark",
        "email": "daniec@microsoft.com",
        "avatars": [
          {
            "url": "https://lh6.googleusercontent.com/-Myhc5O9yY-I/AAAAAAAAAAI/AAAAAAAAAAA/_205-ZRyQbU/s32-p/photo.jpg",
            "height": 32
          },
          {
            "url": "https://lh6.googleusercontent.com/-Myhc5O9yY-I/AAAAAAAAAAI/AAAAAAAAAAA/_205-ZRyQbU/s56-p/photo.jpg",
            "height": 56
          },
          {
            "url": "https://lh6.googleusercontent.com/-Myhc5O9yY-I/AAAAAAAAAAI/AAAAAAAAAAA/_205-ZRyQbU/s100-p/photo.jpg",
            "height": 100
          },
          {
            "url": "https://lh6.googleusercontent.com/-Myhc5O9yY-I/AAAAAAAAAAI/AAAAAAAAAAA/_205-ZRyQbU/s120-p/photo.jpg",
            "height": 120
          }
        ]
      },
      "all": [
        {
          "value": 0,
          "_account_id": 3411476,
          "name": "Ashish Kumar",
          "email": "ashishkum@microsoft.com",
          "avatars": [
            {
              "url": "https://lh4.googleusercontent.com/-5sVthv59RGk/AAAAAAAAAAI/AAAAAAAAAAA/saC-xk27-pU/s32-p/photo.jpg",
              "height": 32
            },
            {
              "url": "https://lh4.googleusercontent.com/-5sVthv59RGk/AAAAAAAAAAI/AAAAAAAAAAA/saC-xk27-pU/s56-p/photo.jpg",
              "height": 56
            },
            {
              "url": "https://lh4.googleusercontent.com/-5sVthv59RGk/AAAAAAAAAAI/AAAAAAAAAAA/saC-xk27-pU/s100-p/photo.jpg",
              "height": 100
            },
            {
              "url": "https://lh4.googleusercontent.com/-5sVthv59RGk/AAAAAAAAAAI/AAAAAAAAAAA/saC-xk27-pU/s120-p/photo.jpg",
              "height": 120
            }
          ]
        },
        {
          "value": 0,
          "_account_id": 1347153,
          "name": "Chromium LUCI CQ",
          "email": "chromium-scoped@luci-project-accounts.iam.gserviceaccount.com",
          "avatars": [
            {
              "url": "https://storage.googleapis.com/chrome-infra/lucy-small.png",
              "height": 32
            },
            {
              "url": "https://storage.googleapis.com/chrome-infra/lucy-small.png",
              "height": 56
            },
            {
              "url": "https://storage.googleapis.com/chrome-infra/lucy-small.png",
              "height": 100
            },
            {
              "url": "https://storage.googleapis.com/chrome-infra/lucy-small.png",
              "height": 120
            }
          ],
          "tags": [
            "SERVICE_USER"
          ]
        },
        {
          "tag": "autogenerated:gerrit:merged",
          "value": 1,
          "date": "2026-02-16 05:08:38.000000000",
          "permitted_voting_range": {
            "min": 1,
            "max": 1
          },
          "_account_id": 1326190,
          "name": "Dan Clark",
          "display_name": "Dan Clark",
          "email": "daniec@microsoft.com",
          "avatars": [
            {
              "url": "https://lh6.googleusercontent.com/-Myhc5O9yY-I/AAAAAAAAAAI/AAAAAAAAAAA/_205-ZRyQbU/s32-p/photo.jpg",
              "height": 32
            },
            {
              "url": "https://lh6.googleusercontent.com/-Myhc5O9yY-I/AAAAAAAAAAI/AAAAAAAAAAA/_205-ZRyQbU/s56-p/photo.jpg",
              "height": 56
            },
            {
              "url": "https://lh6.googleusercontent.com/-Myhc5O9yY-I/AAAAAAAAAAI/AAAAAAAAAAA/_205-ZRyQbU/s100-p/photo.jpg",
              "height": 100
            },
            {
              "url": "https://lh6.googleusercontent.com/-Myhc5O9yY-I/AAAAAAAAAAI/AAAAAAAAAAA/_205-ZRyQbU/s120-p/photo.jpg",
              "height": 120
            }
          ]
        }
      ],
      "values": {
        "-1": "Don't submit as-is",
        " 0": "No score",
        "+1": "Looks good to me"
      },
      "description": "",
      "default_value": 0,
      "optional": true
    },
    "Commit-Queue": {
      "approved": {
        "_account_id": 3411476,
        "name": "Ashish Kumar",
        "email": "ashishkum@microsoft.com",
        "avatars": [
          {
            "url": "https://lh4.googleusercontent.com/-5sVthv59RGk/AAAAAAAAAAI/AAAAAAAAAAA/saC-xk27-pU/s32-p/photo.jpg",
            "height": 32
          },
          {
            "url": "https://lh4.googleusercontent.com/-5sVthv59RGk/AAAAAAAAAAI/AAAAAAAAAAA/saC-xk27-pU/s56-p/photo.jpg",
            "height": 56
          },
          {
            "url": "https://lh4.googleusercontent.com/-5sVthv59RGk/AAAAAAAAAAI/AAAAAAAAAAA/saC-xk27-pU/s100-p/photo.jpg",
            "height": 100
          },
          {
            "url": "https://lh4.googleusercontent.com/-5sVthv59RGk/AAAAAAAAAAI/AAAAAAAAAAA/saC-xk27-pU/s120-p/photo.jpg",
            "height": 120
          }
        ]
      },
      "all": [
        {
          "tag": "autogenerated:gerrit:merged",
          "value": 2,
          "date": "2026-02-16 05:08:38.000000000",
          "permitted_voting_range": {
            "min": 2,
            "max": 2
          },
          "_account_id": 3411476,
          "name": "Ashish Kumar",
          "email": "ashishkum@microsoft.com",
          "avatars": [
            {
              "url": "https://lh4.googleusercontent.com/-5sVthv59RGk/AAAAAAAAAAI/AAAAAAAAAAA/saC-xk27-pU/s32-p/photo.jpg",
              "height": 32
            },
            {
              "url": "https://lh4.googleusercontent.com/-5sVthv59RGk/AAAAAAAAAAI/AAAAAAAAAAA/saC-xk27-pU/s56-p/photo.jpg",
              "height": 56
            },
            {
              "url": "https://lh4.googleusercontent.com/-5sVthv59RGk/AAAAAAAAAAI/AAAAAAAAAAA/saC-xk27-pU/s100-p/photo.jpg",
              "height": 100
            },
            {
              "url": "https://lh4.googleusercontent.com/-5sVthv59RGk/AAAAAAAAAAI/AAAAAAAAAAA/saC-xk27-pU/s120-p/photo.jpg",
              "height": 120
            }
          ]
        },
        {
          "value": 0,
          "_account_id": 1347153,
          "name": "Chromium LUCI CQ",
          "email": "chromium-scoped@luci-project-accounts.iam.gserviceaccount.com",
          "avatars": [
            {
              "url": "https://storage.googleapis.com/chrome-infra/lucy-small.png",
              "height": 32
            },
            {
              "url": "https://storage.googleapis.com/chrome-infra/lucy-small.png",
              "height": 56
            },
            {
              "url": "https://storage.googleapis.com/chrome-infra/lucy-small.png",
              "height": 100
            },
            {
              "url": "https://storage.googleapis.com/chrome-infra/lucy-small.png",
              "height": 120
            }
          ],
          "tags": [
            "SERVICE_USER"
          ]
        },
        {
          "value": 0,
          "_account_id": 1326190,
          "name": "Dan Clark",
          "display_name": "Dan Clark",
          "email": "daniec@microsoft.com",
          "avatars": [
            {
              "url": "https://lh6.googleusercontent.com/-Myhc5O9yY-I/AAAAAAAAAAI/AAAAAAAAAAA/_205-ZRyQbU/s32-p/photo.jpg",
              "height": 32
            },
            {
              "url": "https://lh6.googleusercontent.com/-Myhc5O9yY-I/AAAAAAAAAAI/AAAAAAAAAAA/_205-ZRyQbU/s56-p/photo.jpg",
              "height": 56
            },
            {
              "url": "https://lh6.googleusercontent.com/-Myhc5O9yY-I/AAAAAAAAAAI/AAAAAAAAAAA/_205-ZRyQbU/s100-p/photo.jpg",
              "height": 100
            },
            {
              "url": "https://lh6.googleusercontent.com/-Myhc5O9yY-I/AAAAAAAAAAI/AAAAAAAAAAA/_205-ZRyQbU/s120-p/photo.jpg",
              "height": 120
            }
          ]
        }
      ],
      "values": {
        " 0": "Not ready",
        "+1": "Dry run",
        "+2": "Commit"
      },
      "description": "",
      "default_value": 0,
      "optional": true
    },
    "Feels": {
      "all": [
        {
          "value": 0,
          "_account_id": 3411476,
          "name": "Ashish Kumar",
          "email": "ashishkum@microsoft.com",
          "avatars": [
            {
              "url": "https://lh4.googleusercontent.com/-5sVthv59RGk/AAAAAAAAAAI/AAAAAAAAAAA/saC-xk27-pU/s32-p/photo.jpg",
              "height": 32
            },
            {
              "url": "https://lh4.googleusercontent.com/-5sVthv59RGk/AAAAAAAAAAI/AAAAAAAAAAA/saC-xk27-pU/s56-p/photo.jpg",
              "height": 56
            },
            {
              "url": "https://lh4.googleusercontent.com/-5sVthv59RGk/AAAAAAAAAAI/AAAAAAAAAAA/saC-xk27-pU/s100-p/photo.jpg",
              "height": 100
            },
            {
              "url": "https://lh4.googleusercontent.com/-5sVthv59RGk/AAAAAAAAAAI/AAAAAAAAAAA/saC-xk27-pU/s120-p/photo.jpg",
              "height": 120
            }
          ]
        },
        {
          "value": 0,
          "_account_id": 1347153,
          "name": "Chromium LUCI CQ",
          "email": "chromium-scoped@luci-project-accounts.iam.gserviceaccount.com",
          "avatars": [
            {
              "url": "https://storage.googleapis.com/chrome-infra/lucy-small.png",
              "height": 32
            },
            {
              "url": "https://storage.googleapis.com/chrome-infra/lucy-small.png",
              "height": 56
            },
            {
              "url": "https://storage.googleapis.com/chrome-infra/lucy-small.png",
              "height": 100
            },
            {
              "url": "https://storage.googleapis.com/chrome-infra/lucy-small.png",
              "height": 120
            }
          ],
          "tags": [
            "SERVICE_USER"
          ]
        },
        {
          "value": 0,
          "_account_id": 1326190,
          "name": "Dan Clark",
          "display_name": "Dan Clark",
          "email": "daniec@microsoft.com",
          "avatars": [
            {
              "url": "https://lh6.googleusercontent.com/-Myhc5O9yY-I/AAAAAAAAAAI/AAAAAAAAAAA/_205-ZRyQbU/s32-p/photo.jpg",
              "height": 32
            },
            {
              "url": "https://lh6.googleusercontent.com/-Myhc5O9yY-I/AAAAAAAAAAI/AAAAAAAAAAA/_205-ZRyQbU/s56-p/photo.jpg",
              "height": 56
            },
            {
              "url": "https://lh6.googleusercontent.com/-Myhc5O9yY-I/AAAAAAAAAAI/AAAAAAAAAAA/_205-ZRyQbU/s100-p/photo.jpg",
              "height": 100
            },
            {
              "url": "https://lh6.googleusercontent.com/-Myhc5O9yY-I/AAAAAAAAAAI/AAAAAAAAAAA/_205-ZRyQbU/s120-p/photo.jpg",
              "height": 120
            }
          ]
        }
      ],
      "values": {
        "-2": "(\u256f\u00b0\u25a1\u00b0)\u256f\ufe35 \u253b\u2501\u253b p\u0250q \u025f\u01ddp",
        "-1": "\ud83d\ude30 Feels wrong to me",
        " 0": "\ud83e\udd37",
        "+1": "\ud83e\udd14 Seems OK",
        "+2": "\ud83d\ude0c Feels right to me"
      },
      "description": "",
      "default_value": 0,
      "optional": true
    },
    "Owners-Override": {
      "all": [
        {
          "value": 0,
          "_account_id": 3411476,
          "name": "Ashish Kumar",
          "email": "ashishkum@microsoft.com",
          "avatars": [
            {
              "url": "https://lh4.googleusercontent.com/-5sVthv59RGk/AAAAAAAAAAI/AAAAAAAAAAA/saC-xk27-pU/s32-p/photo.jpg",
              "height": 32
            },
            {
              "url": "https://lh4.googleusercontent.com/-5sVthv59RGk/AAAAAAAAAAI/AAAAAAAAAAA/saC-xk27-pU/s56-p/photo.jpg",
              "height": 56
            },
            {
              "url": "https://lh4.googleusercontent.com/-5sVthv59RGk/AAAAAAAAAAI/AAAAAAAAAAA/saC-xk27-pU/s100-p/photo.jpg",
              "height": 100
            },
            {
              "url": "https://lh4.googleusercontent.com/-5sVthv59RGk/AAAAAAAAAAI/AAAAAAAAAAA/saC-xk27-pU/s120-p/photo.jpg",
              "height": 120
            }
          ]
        },
        {
          "value": 0,
          "_account_id": 1347153,
          "name": "Chromium LUCI CQ",
          "email": "chromium-scoped@luci-project-accounts.iam.gserviceaccount.com",
          "avatars": [
            {
              "url": "https://storage.googleapis.com/chrome-infra/lucy-small.png",
              "height": 32
            },
            {
              "url": "https://storage.googleapis.com/chrome-infra/lucy-small.png",
              "height": 56
            },
            {
              "url": "https://storage.googleapis.com/chrome-infra/lucy-small.png",
              "height": 100
            },
            {
              "url": "https://storage.googleapis.com/chrome-infra/lucy-small.png",
              "height": 120
            }
          ],
          "tags": [
            "SERVICE_USER"
          ]
        },
        {
          "value": 0,
          "_account_id": 1326190,
          "name": "Dan Clark",
          "display_name": "Dan Clark",
          "email": "daniec@microsoft.com",
          "avatars": [
            {
              "url": "https://lh6.googleusercontent.com/-Myhc5O9yY-I/AAAAAAAAAAI/AAAAAAAAAAA/_205-ZRyQbU/s32-p/photo.jpg",
              "height": 32
            },
            {
              "url": "https://lh6.googleusercontent.com/-Myhc5O9yY-I/AAAAAAAAAAI/AAAAAAAAAAA/_205-ZRyQbU/s56-p/photo.jpg",
              "height": 56
            },
            {
              "url": "https://lh6.googleusercontent.com/-Myhc5O9yY-I/AAAAAAAAAAI/AAAAAAAAAAA/_205-ZRyQbU/s100-p/photo.jpg",
              "height": 100
            },
            {
              "url": "https://lh6.googleusercontent.com/-Myhc5O9yY-I/AAAAAAAAAAI/AAAAAAAAAAA/_205-ZRyQbU/s120-p/photo.jpg",
              "height": 120
            }
          ]
        }
      ],
      "values": {
        " 0": "No score",
        "+1": "Bypass OWNERS enforcement"
      },
      "description": "",
      "default_value": 0,
      "optional": true
    },
    "Lint": {
      "all": [
        {
          "value": 0,
          "_account_id": 3411476,
          "name": "Ashish Kumar",
          "email": "ashishkum@microsoft.com",
          "avatars": [
            {
              "url": "https://lh4.googleusercontent.com/-5sVthv59RGk/AAAAAAAAAAI/AAAAAAAAAAA/saC-xk27-pU/s32-p/photo.jpg",
              "height": 32
            },
            {
              "url": "https://lh4.googleusercontent.com/-5sVthv59RGk/AAAAAAAAAAI/AAAAAAAAAAA/saC-xk27-pU/s56-p/photo.jpg",
              "height": 56
            },
            {
              "url": "https://lh4.googleusercontent.com/-5sVthv59RGk/AAAAAAAAAAI/AAAAAAAAAAA/saC-xk27-pU/s100-p/photo.jpg",
              "height": 100
            },
            {
              "url": "https://lh4.googleusercontent.com/-5sVthv59RGk/AAAAAAAAAAI/AAAAAAAAAAA/saC-xk27-pU/s120-p/photo.jpg",
              "height": 120
            }
          ]
        },
        {
          "value": 0,
          "_account_id": 1347153,
          "name": "Chromium LUCI CQ",
          "email": "chromium-scoped@luci-project-accounts.iam.gserviceaccount.com",
          "avatars": [
            {
              "url": "https://storage.googleapis.com/chrome-infra/lucy-small.png",
              "height": 32
            },
            {
              "url": "https://storage.googleapis.com/chrome-infra/lucy-small.png",
              "height": 56
            },
            {
              "url": "https://storage.googleapis.com/chrome-infra/lucy-small.png",
              "height": 100
            },
            {
              "url": "https://storage.googleapis.com/chrome-infra/lucy-small.png",
              "height": 120
            }
          ],
          "tags": [
            "SERVICE_USER"
          ]
        },
        {
          "value": 0,
          "_account_id": 1326190,
          "name": "Dan Clark",
          "display_name": "Dan Clark",
          "email": "daniec@microsoft.com",
          "avatars": [
            {
              "url": "https://lh6.googleusercontent.com/-Myhc5O9yY-I/AAAAAAAAAAI/AAAAAAAAAAA/_205-ZRyQbU/s32-p/photo.jpg",
              "height": 32
            },
            {
              "url": "https://lh6.googleusercontent.com/-Myhc5O9yY-I/AAAAAAAAAAI/AAAAAAAAAAA/_205-ZRyQbU/s56-p/photo.jpg",
              "height": 56
            },
            {
              "url": "https://lh6.googleusercontent.com/-Myhc5O9yY-I/AAAAAAAAAAI/AAAAAAAAAAA/_205-ZRyQbU/s100-p/photo.jpg",
              "height": 100
            },
            {
              "url": "https://lh6.googleusercontent.com/-Myhc5O9yY-I/AAAAAAAAAAI/AAAAAAAAAAA/_205-ZRyQbU/s120-p/photo.jpg",
              "height": 120
            }
          ]
        }
      ],
      "values": {
        "-1": "Blocked unless +2 bypass",
        " 0": "Not run",
        "+1": "Lint passed",
        "+2": "Bypass Lint"
      },
      "description": "",
      "default_value": 0,
      "optional": true
    },
    "Bot-Commit": {
      "all": [
        {
          "value": 0,
          "_account_id": 3411476,
          "name": "Ashish Kumar",
          "email": "ashishkum@microsoft.com",
          "avatars": [
            {
              "url": "https://lh4.googleusercontent.com/-5sVthv59RGk/AAAAAAAAAAI/AAAAAAAAAAA/saC-xk27-pU/s32-p/photo.jpg",
              "height": 32
            },
            {
              "url": "https://lh4.googleusercontent.com/-5sVthv59RGk/AAAAAAAAAAI/AAAAAAAAAAA/saC-xk27-pU/s56-p/photo.jpg",
              "height": 56
            },
            {
              "url": "https://lh4.googleusercontent.com/-5sVthv59RGk/AAAAAAAAAAI/AAAAAAAAAAA/saC-xk27-pU/s100-p/photo.jpg",
              "height": 100
            },
            {
              "url": "https://lh4.googleusercontent.com/-5sVthv59RGk/AAAAAAAAAAI/AAAAAAAAAAA/saC-xk27-pU/s120-p/photo.jpg",
              "height": 120
            }
          ]
        },
        {
          "value": 0,
          "_account_id": 1347153,
          "name": "Chromium LUCI CQ",
          "email": "chromium-scoped@luci-project-accounts.iam.gserviceaccount.com",
          "avatars": [
            {
              "url": "https://storage.googleapis.com/chrome-infra/lucy-small.png",
              "height": 32
            },
            {
              "url": "https://storage.googleapis.com/chrome-infra/lucy-small.png",
              "height": 56
            },
            {
              "url": "https://storage.googleapis.com/chrome-infra/lucy-small.png",
              "height": 100
            },
            {
              "url": "https://storage.googleapis.com/chrome-infra/lucy-small.png",
              "height": 120
            }
          ],
          "tags": [
            "SERVICE_USER"
          ]
        },
        {
          "value": 0,
          "_account_id": 1326190,
          "name": "Dan Clark",
          "display_name": "Dan Clark",
          "email": "daniec@microsoft.com",
          "avatars": [
            {
              "url": "https://lh6.googleusercontent.com/-Myhc5O9yY-I/AAAAAAAAAAI/AAAAAAAAAAA/_205-ZRyQbU/s32-p/photo.jpg",
              "height": 32
            },
            {
              "url": "https://lh6.googleusercontent.com/-Myhc5O9yY-I/AAAAAAAAAAI/AAAAAAAAAAA/_205-ZRyQbU/s56-p/photo.jpg",
              "height": 56
            },
            {
              "url": "https://lh6.googleusercontent.com/-Myhc5O9yY-I/AAAAAAAAAAI/AAAAAAAAAAA/_205-ZRyQbU/s100-p/photo.jpg",
              "height": 100
            },
            {
              "url": "https://lh6.googleusercontent.com/-Myhc5O9yY-I/AAAAAAAAAAI/AAAAAAAAAAA/_205-ZRyQbU/s120-p/photo.jpg",
              "height": 120
            }
          ]
        }
      ],
      "values": {
        " 0": "No score",
        "+1": "Looks good to me"
      },
      "description": "",
      "default_value": 0,
      "optional": true
    },
    "Mega-CQ": {
      "all": [
        {
          "value": 0,
          "_account_id": 3411476,
          "name": "Ashish Kumar",
          "email": "ashishkum@microsoft.com",
          "avatars": [
            {
              "url": "https://lh4.googleusercontent.com/-5sVthv59RGk/AAAAAAAAAAI/AAAAAAAAAAA/saC-xk27-pU/s32-p/photo.jpg",
              "height": 32
            },
            {
              "url": "https://lh4.googleusercontent.com/-5sVthv59RGk/AAAAAAAAAAI/AAAAAAAAAAA/saC-xk27-pU/s56-p/photo.jpg",
              "height": 56
            },
            {
              "url": "https://lh4.googleusercontent.com/-5sVthv59RGk/AAAAAAAAAAI/AAAAAAAAAAA/saC-xk27-pU/s100-p/photo.jpg",
              "height": 100
            },
            {
              "url": "https://lh4.googleusercontent.com/-5sVthv59RGk/AAAAAAAAAAI/AAAAAAAAAAA/saC-xk27-pU/s120-p/photo.jpg",
              "height": 120
            }
          ]
        },
        {
          "value": 0,
          "_account_id": 1347153,
          "name": "Chromium LUCI CQ",
          "email": "chromium-scoped@luci-project-accounts.iam.gserviceaccount.com",
          "avatars": [
            {
              "url": "https://storage.googleapis.com/chrome-infra/lucy-small.png",
              "height": 32
            },
            {
              "url": "https://storage.googleapis.com/chrome-infra/lucy-small.png",
              "height": 56
            },
            {
              "url": "https://storage.googleapis.com/chrome-infra/lucy-small.png",
              "height": 100
            },
            {
              "url": "https://storage.googleapis.com/chrome-infra/lucy-small.png",
              "height": 120
            }
          ],
          "tags": [
            "SERVICE_USER"
          ]
        },
        {
          "value": 0,
          "_account_id": 1326190,
          "name": "Dan Clark",
          "display_name": "Dan Clark",
          "email": "daniec@microsoft.com",
          "avatars": [
            {
              "url": "https://lh6.googleusercontent.com/-Myhc5O9yY-I/AAAAAAAAAAI/AAAAAAAAAAA/_205-ZRyQbU/s32-p/photo.jpg",
              "height": 32
            },
            {
              "url": "https://lh6.googleusercontent.com/-Myhc5O9yY-I/AAAAAAAAAAI/AAAAAAAAAAA/_205-ZRyQbU/s56-p/photo.jpg",
              "height": 56
            },
            {
              "url": "https://lh6.googleusercontent.com/-Myhc5O9yY-I/AAAAAAAAAAI/AAAAAAAAAAA/_205-ZRyQbU/s100-p/photo.jpg",
              "height": 100
            },
            {
              "url": "https://lh6.googleusercontent.com/-Myhc5O9yY-I/AAAAAAAAAAI/AAAAAAAAAAA/_205-ZRyQbU/s120-p/photo.jpg",
              "height": 120
            }
          ]
        }
      ],
      "values": {
        " 0": "Mega CQ Disabled",
        "+1": "Mega CQ Enabled"
      },
      "description": "",
      "default_value": 0,
      "optional": true
    },
    "Recitation-Check": {
      "all": [
        {
          "value": 0,
          "_account_id": 3411476,
          "name": "Ashish Kumar",
          "email": "ashishkum@microsoft.com",
          "avatars": [
            {
              "url": "https://lh4.googleusercontent.com/-5sVthv59RGk/AAAAAAAAAAI/AAAAAAAAAAA/saC-xk27-pU/s32-p/photo.jpg",
              "height": 32
            },
            {
              "url": "https://lh4.googleusercontent.com/-5sVthv59RGk/AAAAAAAAAAI/AAAAAAAAAAA/saC-xk27-pU/s56-p/photo.jpg",
              "height": 56
            },
            {
              "url": "https://lh4.googleusercontent.com/-5sVthv59RGk/AAAAAAAAAAI/AAAAAAAAAAA/saC-xk27-pU/s100-p/photo.jpg",
              "height": 100
            },
            {
              "url": "https://lh4.googleusercontent.com/-5sVthv59RGk/AAAAAAAAAAI/AAAAAAAAAAA/saC-xk27-pU/s120-p/photo.jpg",
              "height": 120
            }
          ]
        },
        {
          "value": 0,
          "_account_id": 1347153,
          "name": "Chromium LUCI CQ",
          "email": "chromium-scoped@luci-project-accounts.iam.gserviceaccount.com",
          "avatars": [
            {
              "url": "https://storage.googleapis.com/chrome-infra/lucy-small.png",
              "height": 32
            },
            {
              "url": "https://storage.googleapis.com/chrome-infra/lucy-small.png",
              "height": 56
            },
            {
              "url": "https://storage.googleapis.com/chrome-infra/lucy-small.png",
              "height": 100
            },
            {
              "url": "https://storage.googleapis.com/chrome-infra/lucy-small.png",
              "height": 120
            }
          ],
          "tags": [
            "SERVICE_USER"
          ]
        },
        {
          "value": 0,
          "_account_id": 1326190,
          "name": "Dan Clark",
          "display_name": "Dan Clark",
          "email": "daniec@microsoft.com",
          "avatars": [
            {
              "url": "https://lh6.googleusercontent.com/-Myhc5O9yY-I/AAAAAAAAAAI/AAAAAAAAAAA/_205-ZRyQbU/s32-p/photo.jpg",
              "height": 32
            },
            {
              "url": "https://lh6.googleusercontent.com/-Myhc5O9yY-I/AAAAAAAAAAI/AAAAAAAAAAA/_205-ZRyQbU/s56-p/photo.jpg",
              "height": 56
            },
            {
              "url": "https://lh6.googleusercontent.com/-Myhc5O9yY-I/AAAAAAAAAAI/AAAAAAAAAAA/_205-ZRyQbU/s100-p/photo.jpg",
              "height": 100
            },
            {
              "url": "https://lh6.googleusercontent.com/-Myhc5O9yY-I/AAAAAAAAAAI/AAAAAAAAAAA/_205-ZRyQbU/s120-p/photo.jpg",
              "height": 120
            }
          ]
        }
      ],
      "values": {
        "-1": "Fails Recitation Check",
        " 0": "No Vote",
        "+1": "Passes Recitation Check"
      },
      "description": "",
      "default_value": 0,
      "optional": true
    }
  },
  "removable_reviewers": [
    {
      "_account_id": 3431131,
      "name": "Rohan Raja",
      "email": "roraja@microsoft.com",
      "avatars": [
        {
          "url": "https://lh4.googleusercontent.com/-Y-CNpzZsaM8/AAAAAAAAAAI/AAAAAAAAAAA/ui7DMVM-3H8/s32-p/photo.jpg",
          "height": 32
        },
        {
          "url": "https://lh4.googleusercontent.com/-Y-CNpzZsaM8/AAAAAAAAAAI/AAAAAAAAAAA/ui7DMVM-3H8/s56-p/photo.jpg",
          "height": 56
        },
        {
          "url": "https://lh4.googleusercontent.com/-Y-CNpzZsaM8/AAAAAAAAAAI/AAAAAAAAAAA/ui7DMVM-3H8/s100-p/photo.jpg",
          "height": 100
        },
        {
          "url": "https://lh4.googleusercontent.com/-Y-CNpzZsaM8/AAAAAAAAAAI/AAAAAAAAAAA/ui7DMVM-3H8/s120-p/photo.jpg",
          "height": 120
        }
      ]
    }
  ],
  "reviewers": {
    "CC": [
      {
        "_account_id": 1156344,
        "email": "chromium-reviews@chromium.org",
        "avatars": [
          {
            "url": "https://lh3.googleusercontent.com/-pr-66Y1JhUo/AAAAAAAAAAI/AAAAAAAAAAA/XErag4siO2Y/s32-p/photo.jpg",
            "height": 32
          },
          {
            "url": "https://lh3.googleusercontent.com/-pr-66Y1JhUo/AAAAAAAAAAI/AAAAAAAAAAA/XErag4siO2Y/s56-p/photo.jpg",
            "height": 56
          },
          {
            "url": "https://lh3.googleusercontent.com/-pr-66Y1JhUo/AAAAAAAAAAI/AAAAAAAAAAA/XErag4siO2Y/s100-p/photo.jpg",
            "height": 100
          },
          {
            "url": "https://lh3.googleusercontent.com/-pr-66Y1JhUo/AAAAAAAAAAI/AAAAAAAAAAA/XErag4siO2Y/s120-p/photo.jpg",
            "height": 120
          }
        ],
        "tags": [
          "SERVICE_USER"
        ]
      },
      {
        "_account_id": 1493702,
        "name": "AyeAye",
        "email": "android-build-ayeaye@system.gserviceaccount.com",
        "avatars": [
          {
            "url": "https://lh4.googleusercontent.com/-Zkxlnqw2kDg/AAAAAAAAAAI/AAAAAAAAAAA/FzxSIRSZ0Po/s32-p/photo.jpg",
            "height": 32
          },
          {
            "url": "https://lh4.googleusercontent.com/-Zkxlnqw2kDg/AAAAAAAAAAI/AAAAAAAAAAA/FzxSIRSZ0Po/s56-p/photo.jpg",
            "height": 56
          },
          {
            "url": "https://lh4.googleusercontent.com/-Zkxlnqw2kDg/AAAAAAAAAAI/AAAAAAAAAAA/FzxSIRSZ0Po/s100-p/photo.jpg",
            "height": 100
          },
          {
            "url": "https://lh4.googleusercontent.com/-Zkxlnqw2kDg/AAAAAAAAAAI/AAAAAAAAAAA/FzxSIRSZ0Po/s120-p/photo.jpg",
            "height": 120
          }
        ],
        "tags": [
          "SERVICE_USER"
        ]
      },
      {
        "_account_id": 4021921,
        "name": "Robert Williams",
        "email": "rw6531830@gmail.com",
        "avatars": [
          {
            "url": "https://lh6.googleusercontent.com/-NKma4BKWPUs/AAAAAAAAAAI/AAAAAAAAAAA/q7sO7pAzaBk/s32-p/photo.jpg",
            "height": 32
          },
          {
            "url": "https://lh6.googleusercontent.com/-NKma4BKWPUs/AAAAAAAAAAI/AAAAAAAAAAA/q7sO7pAzaBk/s56-p/photo.jpg",
            "height": 56
          },
          {
            "url": "https://lh6.googleusercontent.com/-NKma4BKWPUs/AAAAAAAAAAI/AAAAAAAAAAA/q7sO7pAzaBk/s100-p/photo.jpg",
            "height": 100
          },
          {
            "url": "https://lh6.googleusercontent.com/-NKma4BKWPUs/AAAAAAAAAAI/AAAAAAAAAAA/q7sO7pAzaBk/s120-p/photo.jpg",
            "height": 120
          }
        ]
      },
      {
        "email": "blink-reviews@chromium.org"
      },
      {
        "email": "jmedley+watch@chromium.org"
      },
      {
        "email": "kinuko+watch@chromium.org"
      }
    ],
    "REVIEWER": [
      {
        "_account_id": 1326190,
        "name": "Dan Clark",
        "display_name": "Dan Clark",
        "email": "daniec@microsoft.com",
        "avatars": [
          {
            "url": "https://lh6.googleusercontent.com/-Myhc5O9yY-I/AAAAAAAAAAI/AAAAAAAAAAA/_205-ZRyQbU/s32-p/photo.jpg",
            "height": 32
          },
          {
            "url": "https://lh6.googleusercontent.com/-Myhc5O9yY-I/AAAAAAAAAAI/AAAAAAAAAAA/_205-ZRyQbU/s56-p/photo.jpg",
            "height": 56
          },
          {
            "url": "https://lh6.googleusercontent.com/-Myhc5O9yY-I/AAAAAAAAAAI/AAAAAAAAAAA/_205-ZRyQbU/s100-p/photo.jpg",
            "height": 100
          },
          {
            "url": "https://lh6.googleusercontent.com/-Myhc5O9yY-I/AAAAAAAAAAI/AAAAAAAAAAA/_205-ZRyQbU/s120-p/photo.jpg",
            "height": 120
          }
        ]
      },
      {
        "_account_id": 1347153,
        "name": "Chromium LUCI CQ",
        "email": "chromium-scoped@luci-project-accounts.iam.gserviceaccount.com",
        "avatars": [
          {
            "url": "https://storage.googleapis.com/chrome-infra/lucy-small.png",
            "height": 32
          },
          {
            "url": "https://storage.googleapis.com/chrome-infra/lucy-small.png",
            "height": 56
          },
          {
            "url": "https://storage.googleapis.com/chrome-infra/lucy-small.png",
            "height": 100
          },
          {
            "url": "https://storage.googleapis.com/chrome-infra/lucy-small.png",
            "height": 120
          }
        ],
        "tags": [
          "SERVICE_USER"
        ]
      },
      {
        "_account_id": 3411476,
        "name": "Ashish Kumar",
        "email": "ashishkum@microsoft.com",
        "avatars": [
          {
            "url": "https://lh4.googleusercontent.com/-5sVthv59RGk/AAAAAAAAAAI/AAAAAAAAAAA/saC-xk27-pU/s32-p/photo.jpg",
            "height": 32
          },
          {
            "url": "https://lh4.googleusercontent.com/-5sVthv59RGk/AAAAAAAAAAI/AAAAAAAAAAA/saC-xk27-pU/s56-p/photo.jpg",
            "height": 56
          },
          {
            "url": "https://lh4.googleusercontent.com/-5sVthv59RGk/AAAAAAAAAAI/AAAAAAAAAAA/saC-xk27-pU/s100-p/photo.jpg",
            "height": 100
          },
          {
            "url": "https://lh4.googleusercontent.com/-5sVthv59RGk/AAAAAAAAAAI/AAAAAAAAAAA/saC-xk27-pU/s120-p/photo.jpg",
            "height": 120
          }
        ]
      },
      {
        "_account_id": 3431131,
        "name": "Rohan Raja",
        "email": "roraja@microsoft.com",
        "avatars": [
          {
            "url": "https://lh4.googleusercontent.com/-Y-CNpzZsaM8/AAAAAAAAAAI/AAAAAAAAAAA/ui7DMVM-3H8/s32-p/photo.jpg",
            "height": 32
          },
          {
            "url": "https://lh4.googleusercontent.com/-Y-CNpzZsaM8/AAAAAAAAAAI/AAAAAAAAAAA/ui7DMVM-3H8/s56-p/photo.jpg",
            "height": 56
          },
          {
            "url": "https://lh4.googleusercontent.com/-Y-CNpzZsaM8/AAAAAAAAAAI/AAAAAAAAAAA/ui7DMVM-3H8/s100-p/photo.jpg",
            "height": 100
          },
          {
            "url": "https://lh4.googleusercontent.com/-Y-CNpzZsaM8/AAAAAAAAAAI/AAAAAAAAAAA/ui7DMVM-3H8/s120-p/photo.jpg",
            "height": 120
          }
        ]
      }
    ]
  },
  "pending_reviewers": {},
  "reviewer_updates": [
    {
      "updated": "2025-04-23 08:54:39.000000000",
      "updated_by": {
        "_account_id": 3411476,
        "name": "Ashish Kumar",
        "email": "ashishkum@microsoft.com",
        "avatars": [
          {
            "url": "https://lh4.googleusercontent.com/-5sVthv59RGk/AAAAAAAAAAI/AAAAAAAAAAA/saC-xk27-pU/s32-p/photo.jpg",
            "height": 32
          },
          {
            "url": "https://lh4.googleusercontent.com/-5sVthv59RGk/AAAAAAAAAAI/AAAAAAAAAAA/saC-xk27-pU/s56-p/photo.jpg",
            "height": 56
          },
          {
            "url": "https://lh4.googleusercontent.com/-5sVthv59RGk/AAAAAAAAAAI/AAAAAAAAAAA/saC-xk27-pU/s100-p/photo.jpg",
            "height": 100
          },
          {
            "url": "https://lh4.googleusercontent.com/-5sVthv59RGk/AAAAAAAAAAI/AAAAAAAAAAA/saC-xk27-pU/s120-p/photo.jpg",
            "height": 120
          }
        ]
      },
      "real_updated_by": {
        "_account_id": 3411476,
        "name": "Ashish Kumar",
        "email": "ashishkum@microsoft.com",
        "avatars": [
          {
            "url": "https://lh4.googleusercontent.com/-5sVthv59RGk/AAAAAAAAAAI/AAAAAAAAAAA/saC-xk27-pU/s32-p/photo.jpg",
            "height": 32
          },
          {
            "url": "https://lh4.googleusercontent.com/-5sVthv59RGk/AAAAAAAAAAI/AAAAAAAAAAA/saC-xk27-pU/s56-p/photo.jpg",
            "height": 56
          },
          {
            "url": "https://lh4.googleusercontent.com/-5sVthv59RGk/AAAAAAAAAAI/AAAAAAAAAAA/saC-xk27-pU/s100-p/photo.jpg",
            "height": 100
          },
          {
            "url": "https://lh4.googleusercontent.com/-5sVthv59RGk/AAAAAAAAAAI/AAAAAAAAAAA/saC-xk27-pU/s120-p/photo.jpg",
            "height": 120
          }
        ]
      },
      "reviewer": {
        "email": "jmedley+watch@chromium.org"
      },
      "state": "CC"
    },
    {
      "updated": "2025-04-23 08:54:39.000000000",
      "updated_by": {
        "_account_id": 3411476,
        "name": "Ashish Kumar",
        "email": "ashishkum@microsoft.com",
        "avatars": [
          {
            "url": "https://lh4.googleusercontent.com/-5sVthv59RGk/AAAAAAAAAAI/AAAAAAAAAAA/saC-xk27-pU/s32-p/photo.jpg",
            "height": 32
          },
          {
            "url": "https://lh4.googleusercontent.com/-5sVthv59RGk/AAAAAAAAAAI/AAAAAAAAAAA/saC-xk27-pU/s56-p/photo.jpg",
            "height": 56
          },
          {
            "url": "https://lh4.googleusercontent.com/-5sVthv59RGk/AAAAAAAAAAI/AAAAAAAAAAA/saC-xk27-pU/s100-p/photo.jpg",
            "height": 100
          },
          {
            "url": "https://lh4.googleusercontent.com/-5sVthv59RGk/AAAAAAAAAAI/AAAAAAAAAAA/saC-xk27-pU/s120-p/photo.jpg",
            "height": 120
          }
        ]
      },
      "real_updated_by": {
        "_account_id": 3411476,
        "name": "Ashish Kumar",
        "email": "ashishkum@microsoft.com",
        "avatars": [
          {
            "url": "https://lh4.googleusercontent.com/-5sVthv59RGk/AAAAAAAAAAI/AAAAAAAAAAA/saC-xk27-pU/s32-p/photo.jpg",
            "height": 32
          },
          {
            "url": "https://lh4.googleusercontent.com/-5sVthv59RGk/AAAAAAAAAAI/AAAAAAAAAAA/saC-xk27-pU/s56-p/photo.jpg
... [TRUNCATED — file is 126513 bytes]
```

### `comments.json` (21680 bytes)

```json
{
  "/PATCHSET_LEVEL": [
    {
      "author": {
        "_account_id": 4021921,
        "name": "Robert Williams",
        "email": "rw6531830@gmail.com",
        "avatars": [
          {
            "url": "https://lh6.googleusercontent.com/-NKma4BKWPUs/AAAAAAAAAAI/AAAAAAAAAAA/q7sO7pAzaBk/s32-p/photo.jpg",
            "height": 32
          },
          {
            "url": "https://lh6.googleusercontent.com/-NKma4BKWPUs/AAAAAAAAAAI/AAAAAAAAAAA/q7sO7pAzaBk/s56-p/photo.jpg",
            "height": 56
          },
          {
            "url": "https://lh6.googleusercontent.com/-NKma4BKWPUs/AAAAAAAAAAI/AAAAAAAAAAA/q7sO7pAzaBk/s100-p/photo.jpg",
            "height": 100
          },
          {
            "url": "https://lh6.googleusercontent.com/-NKma4BKWPUs/AAAAAAAAAAI/AAAAAAAAAAA/q7sO7pAzaBk/s120-p/photo.jpg",
            "height": 120
          }
        ]
      },
      "change_message_id": "3e55009d2ab25a54e24d0059130d9570de775fbd",
      "unresolved": false,
      "patch_set": 1,
      "id": "1b0eff7e_9a7b3b85",
      "updated": "2025-04-23 08:59:54.000000000",
      "message": "Sabrina",
      "commit_id": "ad054d89d30649e3045dbd4446affa06675f5aff"
    },
    {
      "author": {
        "_account_id": 1326190,
        "name": "Dan Clark",
        "display_name": "Dan Clark",
        "email": "daniec@microsoft.com",
        "avatars": [
          {
            "url": "https://lh6.googleusercontent.com/-Myhc5O9yY-I/AAAAAAAAAAI/AAAAAAAAAAA/_205-ZRyQbU/s32-p/photo.jpg",
            "height": 32
          },
          {
            "url": "https://lh6.googleusercontent.com/-Myhc5O9yY-I/AAAAAAAAAAI/AAAAAAAAAAA/_205-ZRyQbU/s56-p/photo.jpg",
            "height": 56
          },
          {
            "url": "https://lh6.googleusercontent.com/-Myhc5O9yY-I/AAAAAAAAAAI/AAAAAAAAAAA/_205-ZRyQbU/s100-p/photo.jpg",
            "height": 100
          },
          {
            "url": "https://lh6.googleusercontent.com/-Myhc5O9yY-I/AAAAAAAAAAI/AAAAAAAAAAA/_205-ZRyQbU/s120-p/photo.jpg",
            "height": 120
          }
        ]
      },
      "change_message_id": "3985ad93f403a336a2d097e9270c58e62351dd0e",
      "unresolved": false,
      "patch_set": 2,
      "id": "adb2fd77_a3e77dd5",
      "updated": "2025-04-25 00:29:15.000000000",
      "message": "Thanks for working on this.\n\nAn obstacle to fixing this is that it is a web-facing change, potentially breaking for sites that rely on the existing, incorrect names. So we will need to go through the [Intent process](https://www.chromium.org/blink/launching-features/#launch-process) first, sending an Intent to Ship to get approval.\n\nThe API Owners are going to ask about the risk of breaking existing sites. One way that we can start to account for that risk is by adding use counters. If the usage is very low, we may be able to move forward with the change directly. If the usage is high, we'll have to come up with a plan for how to transition sites in an opt-in way to the new names.\n\nUse counters that would be helpful in assessing the risk are:\n- A counter that fires when a site registers a `textformatupdate` event listener\n- A counter that fires when a site has registered for a `textformatupdate` and we actually fire a `textformatupdate` event\n- A counter that fires when a site has registered for a `textformatupdate` and we actually fire a `textformatupdate` event, and the event includes values for Thickness and/or underlinestyle that are something other than \"none\".\n\nDo you think you could add those use counters to set the groundwork for this change?",
      "commit_id": "1550252f1ba79a093786f6550c4183b252c2ee78"
    },
    {
      "author": {
        "_account_id": 1326190,
        "name": "Dan Clark",
        "display_name": "Dan Clark",
        "email": "daniec@microsoft.com",
        "avatars": [
          {
            "url": "https://lh6.googleusercontent.com/-Myhc5O9yY-I/AAAAAAAAAAI/AAAAAAAAAAA/_205-ZRyQbU/s32-p/photo.jpg",
            "height": 32
          },
          {
            "url": "https://lh6.googleusercontent.com/-Myhc5O9yY-I/AAAAAAAAAAI/AAAAAAAAAAA/_205-ZRyQbU/s56-p/photo.jpg",
            "height": 56
          },
          {
            "url": "https://lh6.googleusercontent.com/-Myhc5O9yY-I/AAAAAAAAAAI/AAAAAAAAAAA/_205-ZRyQbU/s100-p/photo.jpg",
            "height": 100
          },
          {
            "url": "https://lh6.googleusercontent.com/-Myhc5O9yY-I/AAAAAAAAAAI/AAAAAAAAAAA/_205-ZRyQbU/s120-p/photo.jpg",
            "height": 120
          }
        ]
      },
      "change_message_id": "5b7e9e7253d9c542c20ff91d97fa41d8f18bbb3b",
      "unresolved": false,
      "patch_set": 6,
      "id": "da26ca16_26ef0976",
      "updated": "2026-02-13 19:49:35.000000000",
      "message": "Love to see it. Thanks Ashish for making this happen.",
      "commit_id": "3af978fabaaff97058b0d85425d967859290db6e"
    }
  ],
  "third_party/blink/renderer/core/editing/ime/edit_context.cc": [
    {
      "author": {
        "_account_id": 3431131,
        "name": "Rohan Raja",
        "email": "roraja@microsoft.com",
        "avatars": [
          {
            "url": "https://lh4.googleusercontent.com/-Y-CNpzZsaM8/AAAAAAAAAAI/AAAAAAAAAAA/ui7DMVM-3H8/s32-p/photo.jpg",
            "height": 32
          },
          {
            "url": "https://lh4.googleusercontent.com/-Y-CNpzZsaM8/AAAAAAAAAAI/AAAAAAAAAAA/ui7DMVM-3H8/s56-p/photo.jpg",
            "height": 56
          },
          {
            "url": "https://lh4.googleusercontent.com/-Y-CNpzZsaM8/AAAAAAAAAAI/AAAAAAAAAAA/ui7DMVM-3H8/s100-p/photo.jpg",
            "height": 100
          },
          {
            "url": "https://lh4.googleusercontent.com/-Y-CNpzZsaM8/AAAAAAAAAAI/AAAAAAAAAAA/ui7DMVM-3H8/s120-p/photo.jpg",
            "height": 120
          }
        ]
      },
      "change_message_id": "7fa908c284abf01f14c04a20b1ee5ed1c44d8e8e",
      "unresolved": true,
      "patch_set": 1,
      "id": "005eb5ec_18b34abc",
      "line": 149,
      "range": {
        "start_line": 149,
        "start_character": 4,
        "end_line": 149,
        "end_character": 11
      },
      "updated": "2025-04-23 09:32:35.000000000",
      "message": "If the blink:: prefix required given we are already in the blink namespace",
      "commit_id": "ad054d89d30649e3045dbd4446affa06675f5aff"
    },
    {
      "author": {
        "_account_id": 3411476,
        "name": "Ashish Kumar",
        "email": "ashishkum@microsoft.com",
        "avatars": [
          {
            "url": "https://lh4.googleusercontent.com/-5sVthv59RGk/AAAAAAAAAAI/AAAAAAAAAAA/saC-xk27-pU/s32-p/photo.jpg",
            "height": 32
          },
          {
            "url": "https://lh4.googleusercontent.com/-5sVthv59RGk/AAAAAAAAAAI/AAAAAAAAAAA/saC-xk27-pU/s56-p/photo.jpg",
            "height": 56
          },
          {
            "url": "https://lh4.googleusercontent.com/-5sVthv59RGk/AAAAAAAAAAI/AAAAAAAAAAA/saC-xk27-pU/s100-p/photo.jpg",
            "height": 100
          },
          {
            "url": "https://lh4.googleusercontent.com/-5sVthv59RGk/AAAAAAAAAAI/AAAAAAAAAAA/saC-xk27-pU/s120-p/photo.jpg",
            "height": 120
          }
        ]
      },
      "change_message_id": "432bf6e9261e3e3f585e331051a299c75477e02f",
      "unresolved": false,
      "patch_set": 1,
      "id": "c0c2475d_f9c53c82",
      "line": 149,
      "range": {
        "start_line": 149,
        "start_character": 4,
        "end_line": 149,
        "end_character": 11
      },
      "in_reply_to": "005eb5ec_18b34abc",
      "updated": "2025-04-23 14:11:54.000000000",
      "message": "you are right, removed it.",
      "commit_id": "ad054d89d30649e3045dbd4446affa06675f5aff"
    }
  ],
  "third_party/blink/renderer/core/editing/ime/text_format.cc": [
    {
      "author": {
        "_account_id": 3431131,
        "name": "Rohan Raja",
        "email": "roraja@microsoft.com",
        "avatars": [
          {
            "url": "https://lh4.googleusercontent.com/-Y-CNpzZsaM8/AAAAAAAAAAI/AAAAAAAAAAA/ui7DMVM-3H8/s32-p/photo.jpg",
            "height": 32
          },
          {
            "url": "https://lh4.googleusercontent.com/-Y-CNpzZsaM8/AAAAAAAAAAI/AAAAAAAAAAA/ui7DMVM-3H8/s56-p/photo.jpg",
            "height": 56
          },
          {
            "url": "https://lh4.googleusercontent.com/-Y-CNpzZsaM8/AAAAAAAAAAI/AAAAAAAAAAA/ui7DMVM-3H8/s100-p/photo.jpg",
            "height": 100
          },
          {
            "url": "https://lh4.googleusercontent.com/-Y-CNpzZsaM8/AAAAAAAAAAI/AAAAAAAAAAA/ui7DMVM-3H8/s120-p/photo.jpg",
            "height": 120
          }
        ]
      },
      "change_message_id": "7fa908c284abf01f14c04a20b1ee5ed1c44d8e8e",
      "unresolved": true,
      "patch_set": 1,
      "id": "9b3353a2_6439a621",
      "line": 54,
      "range": {
        "start_line": 38,
        "start_character": 1,
        "end_line": 54,
        "end_character": 5
      },
      "updated": "2025-04-23 09:32:35.000000000",
      "message": "Can the enum conversion be a utility method ? Maybe there is already a utility file which has similar conversions. Same for below",
      "commit_id": "ad054d89d30649e3045dbd4446affa06675f5aff"
    },
    {
      "author": {
        "_account_id": 3411476,
        "name": "Ashish Kumar",
        "email": "ashishkum@microsoft.com",
        "avatars": [
          {
            "url": "https://lh4.googleusercontent.com/-5sVthv59RGk/AAAAAAAAAAI/AAAAAAAAAAA/saC-xk27-pU/s32-p/photo.jpg",
            "height": 32
          },
          {
            "url": "https://lh4.googleusercontent.com/-5sVthv59RGk/AAAAAAAAAAI/AAAAAAAAAAA/saC-xk27-pU/s56-p/photo.jpg",
            "height": 56
          },
          {
            "url": "https://lh4.googleusercontent.com/-5sVthv59RGk/AAAAAAAAAAI/AAAAAAAAAAA/saC-xk27-pU/s100-p/photo.jpg",
            "height": 100
          },
          {
            "url": "https://lh4.googleusercontent.com/-5sVthv59RGk/AAAAAAAAAAI/AAAAAAAAAAA/saC-xk27-pU/s120-p/photo.jpg",
            "height": 120
          }
        ]
      },
      "change_message_id": "432bf6e9261e3e3f585e331051a299c75477e02f",
      "unresolved": false,
      "patch_set": 1,
      "id": "a38fb76a_4cf79d3d",
      "line": 54,
      "range": {
        "start_line": 38,
        "start_character": 1,
        "end_line": 54,
        "end_character": 5
      },
      "in_reply_to": "9b3353a2_6439a621",
      "updated": "2025-04-23 14:11:54.000000000",
      "message": "Sure, moved this logic to utility methods.",
      "commit_id": "ad054d89d30649e3045dbd4446affa06675f5aff"
    }
  ],
  "third_party/blink/renderer/core/editing/ime/text_format.h": [
    {
      "author": {
        "_account_id": 3431131,
        "name": "Rohan Raja",
        "email": "roraja@microsoft.com",
        "avatars": [
          {
            "url": "https://lh4.googleusercontent.com/-Y-CNpzZsaM8/AAAAAAAAAAI/AAAAAAAAAAA/ui7DMVM-3H8/s32-p/photo.jpg",
            "height": 32
          },
          {
            "url": "https://lh4.googleusercontent.com/-Y-CNpzZsaM8/AAAAAAAAAAI/AAAAAAAAAAA/ui7DMVM-3H8/s56-p/photo.jpg",
            "height": 56
          },
          {
            "url": "https://lh4.googleusercontent.com/-Y-CNpzZsaM8/AAAAAAAAAAI/AAAAAAAAAAA/ui7DMVM-3H8/s100-p/photo.jpg",
            "height": 100
          },
          {
            "url": "https://lh4.googleusercontent.com/-Y-CNpzZsaM8/AAAAAAAAAAI/AAAAAAAAAAA/ui7DMVM-3H8/s120-p/photo.jpg",
            "height": 120
          }
        ]
      },
      "change_message_id": "7fa908c284abf01f14c04a20b1ee5ed1c44d8e8e",
      "unresolved": true,
      "patch_set": 1,
      "id": "84417181_f6a9aa03",
      "line": 19,
      "range": {
        "start_line": 19,
        "start_character": 26,
        "end_line": 19,
        "end_character": 69
      },
      "updated": "2025-04-23 09:32:35.000000000",
      "message": "Can you please double check if we need to provide int values for the enums, i.e. kNone=0, etc",
      "commit_id": "ad054d89d30649e3045dbd4446affa06675f5aff"
    },
    {
      "author": {
        "_account_id": 3411476,
        "name": "Ashish Kumar",
        "email": "ashishkum@microsoft.com",
        "avatars": [
          {
            "url": "https://lh4.googleusercontent.com/-5sVthv59RGk/AAAAAAAAAAI/AAAAAAAAAAA/saC-xk27-pU/s32-p/photo.jpg",
            "height": 32
          },
          {
            "url": "https://lh4.googleusercontent.com/-5sVthv59RGk/AAAAAAAAAAI/AAAAAAAAAAA/saC-xk27-pU/s56-p/photo.jpg",
            "height": 56
          },
          {
            "url": "https://lh4.googleusercontent.com/-5sVthv59RGk/AAAAAAAAAAI/AAAAAAAAAAA/saC-xk27-pU/s100-p/photo.jpg",
            "height": 100
          },
          {
            "url": "https://lh4.googleusercontent.com/-5sVthv59RGk/AAAAAAAAAAI/AAAAAAAAAAA/saC-xk27-pU/s120-p/photo.jpg",
            "height": 120
          }
        ]
      },
      "change_message_id": "432bf6e9261e3e3f585e331051a299c75477e02f",
      "unresolved": false,
      "patch_set": 1,
      "id": "6d0fd965_4e53f72f",
      "line": 19,
      "range": {
        "start_line": 19,
        "start_character": 26,
        "end_line": 19,
        "end_character": 69
      },
      "in_reply_to": "84417181_f6a9aa03",
      "updated": "2025-04-23 14:11:54.000000000",
      "message": "The compiler will automatically assign the values. We do not need to specify a default value unless we want to have some specific values",
      "commit_id": "ad054d89d30649e3045dbd4446affa06675f5aff"
    },
    {
      "author": {
        "_account_id": 3431131,
        "name": "Rohan Raja",
        "email": "roraja@microsoft.com",
        "avatars": [
          {
            "url": "https://lh4.googleusercontent.com/-Y-CNpzZsaM8/AAAAAAAAAAI/AAAAAAAAAAA/ui7DMVM-3H8/s32-p/photo.jpg",
            "height": 32
          },
          {
            "url": "https://lh4.googleusercontent.com/-Y-CNpzZsaM8/AAAAAAAAAAI/AAAAAAAAAAA/ui7DMVM-3H8/s56-p/photo.jpg",
            "height": 56
          },
          {
            "url": "https://lh4.googleusercontent.com/-Y-CNpzZsaM8/AAAAAAAAAAI/AAAAAAAAAAA/ui7DMVM-3H8/s100-p/photo.jpg",
            "height": 100
          },
          {
            "url": "https://lh4.googleusercontent.com/-Y-CNpzZsaM8/AAAAAAAAAAI/AAAAAAAAAAA/ui7DMVM-3H8/s120-p/photo.jpg",
            "height": 120
          }
        ]
      },
      "change_message_id": "7fa908c284abf01f14c04a20b1ee5ed1c44d8e8e",
      "unresolved": true,
      "patch_set": 1,
      "id": "1e9d062f_f74d4542",
      "line": 20,
      "range": {
        "start_line": 20,
        "start_character": 39,
        "end_line": 20,
        "end_character": 44
      },
      "updated": "2025-04-23 09:32:35.000000000",
      "message": "It seems like we are duplicating code of these enum definitions from v8's definition. Aren't these auto generated from IDL or can we simply use V8 version of these enums whereever required ?",
      "commit_id": "ad054d89d30649e3045dbd4446affa06675f5aff"
    },
    {
      "author": {
        "_account_id": 3411476,
        "name": "Ashish Kumar",
        "email": "ashishkum@microsoft.com",
        "avatars": [
          {
            "url": "https://lh4.googleusercontent.com/-5sVthv59RGk/AAAAAAAAAAI/AAAAAAAAAAA/saC-xk27-pU/s32-p/photo.jpg",
            "height": 32
          },
          {
            "url": "https://lh4.googleusercontent.com/-5sVthv59RGk/AAAAAAAAAAI/AAAAAAAAAAA/saC-xk27-pU/s56-p/photo.jpg",
            "height": 56
          },
          {
            "url": "https://lh4.googleusercontent.com/-5sVthv59RGk/AAAAAAAAAAI/AAAAAAAAAAA/saC-xk27-pU/s100-p/photo.jpg",
            "height": 100
          },
          {
            "url": "https://lh4.googleusercontent.com/-5sVthv59RGk/AAAAAAAAAAI/AAAAAAAAAAA/saC-xk27-pU/s120-p/photo.jpg",
            "height": 120
          }
        ]
      },
      "change_message_id": "432bf6e9261e3e3f585e331051a299c75477e02f",
      "unresolved": true,
      "patch_set": 1,
      "id": "3bf0522e_b723d777",
      "line": 20,
      "range": {
        "start_line": 20,
        "start_character": 39,
        "end_line": 20,
        "end_character": 44
      },
      "in_reply_to": "1e9d062f_f74d4542",
      "updated": "2025-04-23 14:11:54.000000000",
      "message": "Even I had this doubt, but I could not find any guideline for such scenario, So I am using the approach that is currently followed in chromium i.e. keep the v8 and c++ types separate. Found below examples:\n1. For [DocumentReadyState](https://source.chromium.org/chromium/chromium/src/+/main:third_party/blink/renderer/core/dom/document.idl;drc=8e818398ba69cd572ced83e298973e2213f83bda;l=22) the V8 type is only used for return type and to maintain the state different enum is created in [document.h](https://source.chromium.org/chromium/chromium/src/+/main:third_party/blink/renderer/core/dom/document.h;drc=8e818398ba69cd572ced83e298973e2213f83bda;l=1044)\n2. Similar for [OrientationType](https://source.chromium.org/chromium/chromium/src/+/main:third_party/blink/renderer/modules/screen_orientation/screen_orientation.idl;drc=a2c296652bc9681e2cdd695426d664decaffd3be;l=18), the V8 type is only used for return type in [screen_orientation.h](https://source.chromium.org/chromium/chromium/src/+/main:third_party/blink/renderer/modules/screen_orientation/screen_orientation.h;drc=a2c296652bc9681e2cdd695426d664decaffd3be;l=42)",
      "commit_id": "ad054d89d30649e3045dbd4446affa06675f5aff"
    },
    {
      "author": {
        "_account_id": 3411476,
        "name": "Ashish Kumar",
        "email": "ashishkum@microsoft.com",
        "avatars": [
          {
            "url": "https://lh4.googleusercontent.com/-5sVthv59RGk/AAAAAAAAAAI/AAAAAAAAAAA/saC-xk27-pU/s32-p/photo.jpg",
            "height": 32
          },
          {
            "url": "https://lh4.googleusercontent.com/-5sVthv59RGk/AAAAAAAAAAI/AAAAAAAAAAA/saC-xk27-pU/s56-p/photo.jpg",
            "height": 56
          },
          {
            "url": "https://lh4.googleusercontent.com/-5sVthv59RGk/AAAAAAAAAAI/AAAAAAAAAAA/saC-xk27-pU/s100-p/photo.jpg",
            "height": 100
          },
          {
            "url": "https://lh4.googleusercontent.com/-5sVthv59RGk/AAAAAAAAAAI/AAAAAAAAAAA/saC-xk27-pU/s120-p/photo.jpg",
            "height": 120
          }
        ]
      },
      "change_message_id": "7bdeeb2563794c4b17c62987b9fa0c670c08ff0a",
      "unresolved": false,
      "patch_set": 1,
      "id": "34afa162_3448299d",
      "line": 20,
      "range": {
        "start_line": 20,
        "start_character": 39,
        "end_line": 20,
        "end_character": 44
      },
      "in_reply_to": "3bf0522e_b723d777",
      "updated": "2026-02-13 04:37:45.000000000",
      "message": "Updated to use V8 enums.",
      "commit_id": "ad054d89d30649e3045dbd4446affa06675f5aff"
    }
  ],
  "third_party/blink/renderer/core/editing/ime/text_format.idl": [
    {
      "author": {
        "_account_id": 3431131,
        "name": "Rohan Raja",
        "email": "roraja@microsoft.com",
        "avatars": [
          {
            "url": "https://lh4.googleusercontent.com/-Y-CNpzZsaM8/AAAAAAAAAAI/AAAAAAAAAAA/ui7DMVM-3H8/s32-p/photo.jpg",
            "height": 32
          },
          {
            "url": "https://lh4.googleusercontent.com/-Y-CNpzZsaM8/AAAAAAAAAAI/AAAAAAAAAAA/ui7DMVM-3H8/s56-p/photo.jpg",
            "height": 56
          },
          {
            "url": "https://lh4.googleusercontent.com/-Y-CNpzZsaM8/AAAAAAAAAAI/AAAAAAAAAAA/ui7DMVM-3H8/s100-p/photo.jpg",
            "height": 100
          },
          {
            "url": "https://lh4.googleusercontent.com/-Y-CNpzZsaM8/AAAAAAAAAAI/AAAAAAAAAAA/ui7DMVM-3H8/s120-p/photo.jpg",
            "height": 120
          }
        ]
      },
      "change_message_id": "7fa908c284abf01f14c04a20b1ee5ed1c44d8e8e",
      "unresolved": true,
      "patch_set": 1,
      "id": "0f0c3251_ddedc833",
      "line": 21,
      "range": {
        "start_line": 20,
        "start_character": 1,
        "end_line": 21,
        "end_character": 61
      },
      "updated": "2025-04-23 09:32:35.000000000",
      "message": "Please see if these changes can be auto-tested",
      "commit_id": "ad054d89d30649e3045dbd4446affa06675f5aff"
    },
    {
      "author": {
        "_account_id": 3411476,
        "name": "Ashish Kumar",
        "email": "ashishkum@microsoft.com",
        "avatars": [
          {
            "url": "https://lh4.googleusercontent.com/-5sVthv59RGk/AAAAAAAAAAI/AAAAAAAAAAA/saC-xk27-pU/s32-p/photo.jpg",
            "height": 32
          },
          {
            "url": "https://lh4.googleusercontent.com/-5sVthv59RGk/AAAAAAAAAAI/AAAAAAAAAAA/saC-xk27-pU/s56-p/photo.jpg",
            "height": 56
          },
          {
            "url": "https://lh4.googleusercontent.com/-5sVthv59RGk/AAAAAAAAAAI/AAAAAAAAAAA/saC-xk27-pU/s100-p/photo.jpg",
            "height": 100
          },
          {
            "url": "https://lh4.googleusercontent.com/-5sVthv59RGk/AAAAAAAAAAI/AAAAAAAAAAA/saC-xk27-pU/s120-p/photo.jpg",
            "height": 120
          }
        ]
      },
      "change_message_id": "432bf6e9261e3e3f585e331051a299c75477e02f",
      "unresolved": false,
      "patch_set": 1,
      "id": "e4b68840_9117e054",
      "line": 21,
      "range": {
        "start_line": 20,
        "start_character": 1,
        "end_line": 21,
        "end_character": 61
      },
      "in_reply_to": "0f0c3251_ddedc833",
      "updated": "2025-04-23 14:11:54.000000000",
      "message": "These are tested in `edit_context.html` web test.",
      "commit_id": "ad054d89d30649e3045dbd4446affa06675f5aff"
    }
  ]
}
```

### `diff.patch` (14813 bytes)

```text
From 08838aa5b7dcc21876ff7135593b3570758ce6cf Mon Sep 17 00:00:00 2001
From: Ashish Kumar <ashishkum@microsoft.com>
Date: Sun, 15 Feb 2026 21:08:38 -0800
Subject: [PATCH] [EditContext] Update attribute types in TextFormat to follow spec

This CL updates the underlineStyle and underlineThickness attribute
types in TextFormat from DOMString to their respective enum types to
follow the spec [1].

This CL does not introduce any behavior change and the changes are
already tested in tests [2] and [3].

[1] https://w3c.github.io/edit-context/#textformatupdateevent
[2] https://crsrc.org/c/third_party/blink/web_tests/editing/input/edit-context.html
[3] https://crsrc.org/c/third_party/blink/web_tests/external/wpt/editing/edit-context/edit-context-textformat.tentative.html

Fixed: 354497121
Change-Id: Ia179f4590a5b06a38fdb81393b21d211f9b709e2
Reviewed-on: https://chromium-review.googlesource.com/c/chromium/src/+/6482727
Reviewed-by: Dan Clark <daniec@microsoft.com>
Commit-Queue: Ashish Kumar <ashishkum@microsoft.com>
Cr-Commit-Position: refs/heads/main@{#1585267}
---

diff --git a/third_party/blink/renderer/core/editing/ime/edit_context.cc b/third_party/blink/renderer/core/editing/ime/edit_context.cc
index 9797dec..36449c88 100644
--- a/third_party/blink/renderer/core/editing/ime/edit_context.cc
+++ b/third_party/blink/renderer/core/editing/ime/edit_context.cc
@@ -12,6 +12,8 @@
 #include "third_party/blink/public/web/web_local_frame_client.h"
 #include "third_party/blink/public/web/web_range.h"
 #include "third_party/blink/renderer/bindings/core/v8/v8_edit_context_init.h"
+#include "third_party/blink/renderer/bindings/core/v8/v8_underline_style.h"
+#include "third_party/blink/renderer/bindings/core/v8/v8_underline_thickness.h"
 #include "third_party/blink/renderer/core/css/css_color.h"
 #include "third_party/blink/renderer/core/dom/document.h"
 #include "third_party/blink/renderer/core/editing/ime/character_bounds_update_event.h"
@@ -146,48 +148,40 @@
     const auto range_end = base::checked_cast<wtf_size_t>(
         ime_text_span.end_offset + composition_range_start_);
 
-    String underline_thickness;
-    String underline_style;
-    // Use values defined in spec [1] for `TextFormat::underlineStyle` &
-    // `TextFormat::underlineThickness`
-    // TODO(crbug.com/354497121): Remove this change and update the TextFormat
-    // attribute type as per the spec [1] when the feature is enabled by
-    // default.
-    // [1]: https://w3c.github.io/edit-context/#textformatupdateevent
-    bool use_spec_values = RuntimeEnabledFeatures::
-        UseSpecValuesInTextFormatUpdateEventStylesEnabled();
+    V8UnderlineThickness::Enum underline_thickness;
+    V8UnderlineStyle::Enum underline_style;
+
     switch (ime_text_span.thickness) {
       case ui::ImeTextSpan::Thickness::kNone:
-        underline_thickness = use_spec_values ? "none" : "None";
+        underline_thickness = V8UnderlineThickness::Enum::kNone;
         break;
       case ui::ImeTextSpan::Thickness::kThin:
-        underline_thickness = use_spec_values ? "thin" : "Thin";
+        underline_thickness = V8UnderlineThickness::Enum::kThin;
         break;
       case ui::ImeTextSpan::Thickness::kThick:
-        underline_thickness = use_spec_values ? "thick" : "Thick";
+        underline_thickness = V8UnderlineThickness::Enum::kThick;
         break;
     }
     switch (ime_text_span.underline_style) {
       case ui::ImeTextSpan::UnderlineStyle::kNone:
-        underline_style = use_spec_values ? "none" : "None";
+        underline_style = V8UnderlineStyle::Enum::kNone;
         break;
       case ui::ImeTextSpan::UnderlineStyle::kSolid:
-        underline_style = use_spec_values ? "solid" : "Solid";
+        underline_style = V8UnderlineStyle::Enum::kSolid;
         break;
       case ui::ImeTextSpan::UnderlineStyle::kDot:
-        underline_style = use_spec_values ? "dotted" : "Dotted";
+        underline_style = V8UnderlineStyle::Enum::kDotted;
         break;
       case ui::ImeTextSpan::UnderlineStyle::kDash:
-        underline_style = use_spec_values ? "dashed" : "Dashed";
+        underline_style = V8UnderlineStyle::Enum::kDashed;
         break;
       case ui::ImeTextSpan::UnderlineStyle::kSquiggle:
-        underline_style = use_spec_values ? "wavy" : "Squiggle";
+        underline_style = V8UnderlineStyle::Enum::kWavy;
         break;
     }
 
-    text_formats.push_back(
-        TextFormat::Create(range_start, range_end, underline_style,
-                           underline_thickness, ASSERT_NO_EXCEPTION));
+    text_formats.push_back(TextFormat::Create(
+        range_start, range_end, underline_style, underline_thickness));
   }
 
   TextFormatUpdateEvent* event = MakeGarbageCollected<TextFormatUpdateEvent>(
diff --git a/third_party/blink/renderer/core/editing/ime/text_format.cc b/third_party/blink/renderer/core/editing/ime/text_format.cc
index d400f63..965b54ea 100644
--- a/third_party/blink/renderer/core/editing/ime/text_format.cc
+++ b/third_party/blink/renderer/core/editing/ime/text_format.cc
@@ -7,17 +7,13 @@
 #include "third_party/blink/renderer/bindings/core/v8/v8_text_format_init.h"
 #include "third_party/blink/renderer/bindings/core/v8/v8_underline_style.h"
 #include "third_party/blink/renderer/bindings/core/v8/v8_underline_thickness.h"
-#include "third_party/blink/renderer/platform/bindings/exception_state.h"
-#include "third_party/blink/renderer/platform/runtime_enabled_features.h"
-#include "third_party/blink/renderer/platform/wtf/text/string_builder.h"
 
 namespace blink {
 
 TextFormat::TextFormat(wtf_size_t range_start,
                        wtf_size_t range_end,
-                       const String& underline_style,
-                       const String& underline_thickness,
-                       ExceptionState& exception_state)
+                       V8UnderlineStyle::Enum underline_style,
+                       V8UnderlineThickness::Enum underline_thickness)
     : range_start_(range_start),
       range_end_(range_end),
       underline_style_(underline_style),
@@ -25,67 +21,30 @@
 
 TextFormat* TextFormat::Create(wtf_size_t range_start,
                                wtf_size_t range_end,
-                               const String& underline_style,
-                               const String& underline_thickness,
-                               ExceptionState& exception_state) {
+                               V8UnderlineStyle::Enum underline_style,
+                               V8UnderlineThickness::Enum underline_thickness) {
   return MakeGarbageCollected<TextFormat>(range_start, range_end,
-                                          underline_style, underline_thickness,
-                                          exception_state);
+                                          underline_style, underline_thickness);
 }
 
-TextFormat::TextFormat(const TextFormatInit* dict,
-                       ExceptionState& exception_state) {
+TextFormat::TextFormat(const TextFormatInit* dict) {
   if (dict->hasRangeStart())
     range_start_ = dict->rangeStart();
 
   if (dict->hasRangeEnd())
     range_end_ = dict->rangeEnd();
 
-  const bool use_spec_values = RuntimeEnabledFeatures::
-      UseSpecValuesInTextFormatUpdateEventStylesEnabled();
-
   if (dict->hasUnderlineStyle()) {
-    String style = dict->underlineStyle();
-    if (use_spec_values && !V8UnderlineStyle::Create(style)) {
-      // Value was invalid, throw error.
-      StringBuilder error_message;
-      error_message.Append(
-          "Failed to read the 'underlineStyle' property from 'TextFormatInit': "
-          "The provided value '");
-      error_message.Append(style);
-      error_message.Append(
-          "' is not a valid enum value of type UnderlineStyle.");
-      exception_state.ThrowTypeError(error_message.ToString());
-      return;
-    }
-    underline_style_ = style;
-  } else if (use_spec_values) {
-    underline_style_ = "none";
+    underline_style_ = dict->underlineStyle().AsEnum();
   }
 
   if (dict->hasUnderlineThickness()) {
-    String thickness = dict->underlineThickness();
-    if (use_spec_values && !V8UnderlineThickness::Create(thickness)) {
-      // Value was invalid, throw error.
-      StringBuilder error_message;
-      error_message.Append(
-          "Failed to read the 'underlineThickness' property from "
-          "'TextFormatInit': The provided value '");
-      error_message.Append(thickness);
-      error_message.Append(
-          "' is not a valid enum value of type UnderlineThickness.");
-      exception_state.ThrowTypeError(error_message.ToString());
-      return;
-    }
-    underline_thickness_ = thickness;
-  } else if (use_spec_values) {
-    underline_thickness_ = "none";
+    underline_thickness_ = dict->underlineThickness().AsEnum();
   }
 }
 
-TextFormat* TextFormat::Create(const TextFormatInit* dict,
-                               ExceptionState& exception_state) {
-  return MakeGarbageCollected<TextFormat>(dict, exception_state);
+TextFormat* TextFormat::Create(const TextFormatInit* dict) {
+  return MakeGarbageCollected<TextFormat>(dict);
 }
 
 wtf_size_t TextFormat::rangeStart() const {
@@ -96,12 +55,12 @@
   return range_end_;
 }
 
-String TextFormat::underlineStyle() const {
-  return underline_style_;
+V8UnderlineStyle TextFormat::underlineStyle() const {
+  return V8UnderlineStyle(underline_style_);
 }
 
-String TextFormat::underlineThickness() const {
-  return underline_thickness_;
+V8UnderlineThickness TextFormat::underlineThickness() const {
+  return V8UnderlineThickness(underline_thickness_);
 }
 
 }  // namespace blink
diff --git a/third_party/blink/renderer/core/editing/ime/text_format.h b/third_party/blink/renderer/core/editing/ime/text_format.h
index 309d664..18f32314 100644
--- a/third_party/blink/renderer/core/editing/ime/text_format.h
+++ b/third_party/blink/renderer/core/editing/ime/text_format.h
@@ -5,6 +5,8 @@
 #ifndef THIRD_PARTY_BLINK_RENDERER_CORE_EDITING_IME_TEXT_FORMAT_H_
 #define THIRD_PARTY_BLINK_RENDERER_CORE_EDITING_IME_TEXT_FORMAT_H_
 
+#include "third_party/blink/renderer/bindings/core/v8/v8_underline_style.h"
+#include "third_party/blink/renderer/bindings/core/v8/v8_underline_thickness.h"
 #include "third_party/blink/renderer/core/core_export.h"
 #include "third_party/blink/renderer/platform/bindings/script_wrappable.h"
 #include "third_party/blink/renderer/platform/wtf/text/wtf_string.h"
@@ -13,7 +15,6 @@
 
 class TextFormatInit;
 class TextFormat;
-class ExceptionState;
 
 // The TextFormat describes how the texts in an active composition should be
 // styled.
@@ -23,31 +24,28 @@
   DEFINE_WRAPPERTYPEINFO();
 
  public:
-  static TextFormat* Create(const TextFormatInit* dict,
-                            ExceptionState& exception_state);
+  static TextFormat* Create(const TextFormatInit* dict);
   static TextFormat* Create(wtf_size_t range_start,
                             wtf_size_t range_end,
-                            const String& underline_style,
-                            const String& underline_thickness,
-                            ExceptionState& exception_state);
-  explicit TextFormat(const TextFormatInit* dict,
-                      ExceptionState& exception_state);
+                            V8UnderlineStyle::Enum underline_style,
+                            V8UnderlineThickness::Enum underline_thickness);
+  explicit TextFormat(const TextFormatInit* dict);
   TextFormat(wtf_size_t range_start,
              wtf_size_t range_end,
-             const String& underline_style,
-             const String& underline_thickness,
-             ExceptionState& exception_state);
+             V8UnderlineStyle::Enum underline_style,
+             V8UnderlineThickness::Enum underline_thickness);
 
   wtf_size_t rangeStart() const;
   wtf_size_t rangeEnd() const;
-  String underlineStyle() const;
-  String underlineThickness() const;
+  V8UnderlineStyle underlineStyle() const;
+  V8UnderlineThickness underlineThickness() const;
 
  private:
   wtf_size_t range_start_ = 0;
   wtf_size_t range_end_ = 0;
-  String underline_style_;
-  String underline_thickness_;
+  V8UnderlineStyle::Enum underline_style_ = V8UnderlineStyle::Enum::kNone;
+  V8UnderlineThickness::Enum underline_thickness_ =
+      V8UnderlineThickness::Enum::kNone;
 };
 
 }  // namespace blink
diff --git a/third_party/blink/renderer/core/editing/ime/text_format.idl b/third_party/blink/renderer/core/editing/ime/text_format.idl
index 8324a3d..57c29850 100644
--- a/third_party/blink/renderer/core/editing/ime/text_format.idl
+++ b/third_party/blink/renderer/core/editing/ime/text_format.idl
@@ -13,17 +13,11 @@
 [
   Exposed=Window
 ] interface TextFormat {
-    // TODO(crbug.com/354497121): Remove "RaisesException" when the `underlineStyle`
-    // and `underlineThickness` attributes are converted to enums as per the spec [1].
-    // [1]: https://w3c.github.io/edit-context/#textformatupdateevent
-    [RaisesException] constructor(optional TextFormatInit options = {});
+    constructor(optional TextFormatInit options = {});
 
     readonly attribute unsigned long rangeStart;
     readonly attribute unsigned long rangeEnd;
 
-    // https://crbug.com/354497121 These should be UnderlineStyle and
-    // UnderlineThickness enumerations but the values returned by the
-    // implementation do not match what the IDL defines.
-    readonly attribute DOMString underlineStyle;
-    readonly attribute DOMString underlineThickness;
+    readonly attribute UnderlineStyle underlineStyle;
+    readonly attribute UnderlineThickness underlineThickness;
 };
diff --git a/third_party/blink/renderer/core/editing/ime/text_format_init.idl b/third_party/blink/renderer/core/editing/ime/text_format_init.idl
index 260539d..68a16c4a 100644
--- a/third_party/blink/renderer/core/editing/ime/text_format_init.idl
+++ b/third_party/blink/renderer/core/editing/ime/text_format_init.idl
@@ -10,6 +10,6 @@
 dictionary TextFormatInit {
     unsigned long rangeStart;
     unsigned long rangeEnd;
-    DOMString underlineStyle;
-    DOMString underlineThickness;
+    UnderlineStyle underlineStyle;
+    UnderlineThickness underlineThickness;
 };
diff --git a/third_party/blink/renderer/platform/runtime_enabled_features.json5 b/third_party/blink/renderer/platform/runtime_enabled_features.json5
index 2ebbfce..076e8e5 100644
--- a/third_party/blink/renderer/platform/runtime_enabled_features.json5
+++ b/third_party/blink/renderer/platform/runtime_enabled_features.json5
@@ -5781,11 +5781,6 @@
       status: "stable",
     },
     {
-      // Fix for https://crbug.com/354497121
-      name: "UseSpecValuesInTextFormatUpdateEventStyles",
-      status: "stable"
-    },
-    {
       name: "UseUndoStepElementDispatchBeforeInput",
       status: "stable",
     },
```
